{"text": "2025-12-06T23:21:55.212622+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.211333", "seconds": 0.211333}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473635561504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:21:55.212622+00:00", "timestamp": 1765063315.212622}}}
{"text": "2025-12-06T23:21:55.212947+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.211658", "seconds": 0.211658}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473635561504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:21:55.212947+00:00", "timestamp": 1765063315.212947}}}
{"text": "2025-12-06T23:21:56.246934+0000 INFO MAIN Infisical authentication completed in 1.034s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.245645", "seconds": 1.245645}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 1.034s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473635561504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:21:56.246934+00:00", "timestamp": 1765063316.246934}}}
{"text": "2025-12-06T23:21:56.927011+0000 INFO MAIN Infisical secrets fetched in 0.679s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.925722", "seconds": 1.925722}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.679s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473635561504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:21:56.927011+00:00", "timestamp": 1765063316.927011}}}
{"text": "2025-12-06T23:21:56.928299+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.927010", "seconds": 1.92701}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473635561504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:21:56.928299+00:00", "timestamp": 1765063316.928299}}}
{"text": "2025-12-06T23:21:56.929229+0000 INFO MAIN Infisical secrets loaded in 1.716s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.927940", "seconds": 1.92794}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.716s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473635561504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:21:56.929229+00:00", "timestamp": 1765063316.929229}}}
{"text": "2025-12-06T23:21:56.934827+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.933538", "seconds": 1.933538}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473635561504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:21:56.934827+00:00", "timestamp": 1765063316.934827}}}
{"text": "2025-12-06T23:21:57.637842+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.636553", "seconds": 2.636553}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473635561504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:21:57.637842+00:00", "timestamp": 1765063317.637842}}}
{"text": "2025-12-06T23:21:57.780893+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.779604", "seconds": 2.779604}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473635561504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:21:57.780893+00:00", "timestamp": 1765063317.780893}}}
{"text": "2025-12-06T23:21:57.781144+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.779855", "seconds": 2.779855}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473635561504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:21:57.781144+00:00", "timestamp": 1765063317.781144}}}
{"text": "2025-12-06T23:21:57.808658+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.807369", "seconds": 2.807369}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473635561504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:21:57.808658+00:00", "timestamp": 1765063317.808658}}}
{"text": "2025-12-06T23:21:57.808895+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.807606", "seconds": 2.807606}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473635561504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:21:57.808895+00:00", "timestamp": 1765063317.808895}}}
{"text": "2025-12-06T23:21:57.839343+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.838054", "seconds": 2.838054}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473635561504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:21:57.839343+00:00", "timestamp": 1765063317.839343}}}
{"text": "2025-12-06T23:21:57.844335+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.843046", "seconds": 2.843046}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473635561504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:21:57.844335+00:00", "timestamp": 1765063317.844335}}}
{"text": "2025-12-06T23:22:28.062927+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934ba951a6c3346757a4f0e, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:33.061638", "seconds": 33.061638}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934ba951a6c3346757a4f0e, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473635561504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:22:28.062927+00:00", "timestamp": 1765063348.062927}}}
{"text": "2025-12-06T23:22:28.068631+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:33.067342", "seconds": 33.067342}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473635561504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:22:28.068631+00:00", "timestamp": 1765063348.068631}}}
{"text": "2025-12-06T23:22:28.071049+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.069760", "seconds": 33.06976}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473635561504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:22:28.071049+00:00", "timestamp": 1765063348.071049}}}
{"text": "2025-12-06T23:22:28.346522+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:33.345233", "seconds": 33.345233}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473635561504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:22:28.346522+00:00", "timestamp": 1765063348.346522}}}
{"text": "2025-12-06T23:22:28.382346+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.381057", "seconds": 33.381057}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473635561504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:22:28.382346+00:00", "timestamp": 1765063348.382346}}}
{"text": "2025-12-06T23:22:28.382752+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.381463", "seconds": 33.381463}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473635561504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:22:28.382752+00:00", "timestamp": 1765063348.382752}}}
{"text": "2025-12-06T23:22:28.535082+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.533793", "seconds": 33.533793}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473635561504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:22:28.535082+00:00", "timestamp": 1765063348.535082}}}
{"text": "2025-12-06T23:22:29.481763+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.190673", "seconds": 0.190673}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473606721568, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:22:29.481763+00:00", "timestamp": 1765063349.481763}}}
{"text": "2025-12-06T23:22:29.482050+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.190960", "seconds": 0.19096}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473606721568, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:22:29.482050+00:00", "timestamp": 1765063349.48205}}}
{"text": "2025-12-06T23:22:30.394749+0000 INFO MAIN Infisical authentication completed in 0.913s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.103659", "seconds": 1.103659}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 0.913s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473606721568, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:22:30.394749+00:00", "timestamp": 1765063350.394749}}}
{"text": "2025-12-06T23:22:30.678463+0000 INFO MAIN Infisical secrets fetched in 0.283s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.387373", "seconds": 1.387373}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.283s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473606721568, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:22:30.678463+00:00", "timestamp": 1765063350.678463}}}
{"text": "2025-12-06T23:22:30.679225+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.388135", "seconds": 1.388135}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473606721568, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:22:30.679225+00:00", "timestamp": 1765063350.679225}}}
{"text": "2025-12-06T23:22:30.679990+0000 INFO MAIN Infisical secrets loaded in 1.198s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.388900", "seconds": 1.3889}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.198s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473606721568, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:22:30.679990+00:00", "timestamp": 1765063350.67999}}}
{"text": "2025-12-06T23:22:30.683184+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.392094", "seconds": 1.392094}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473606721568, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:22:30.683184+00:00", "timestamp": 1765063350.683184}}}
{"text": "2025-12-06T23:22:31.354818+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.063728", "seconds": 2.063728}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473606721568, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:22:31.354818+00:00", "timestamp": 1765063351.354818}}}
{"text": "2025-12-06T23:22:31.490672+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.199582", "seconds": 2.199582}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473606721568, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:22:31.490672+00:00", "timestamp": 1765063351.490672}}}
{"text": "2025-12-06T23:22:31.491002+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.199912", "seconds": 2.199912}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473606721568, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:22:31.491002+00:00", "timestamp": 1765063351.491002}}}
{"text": "2025-12-06T23:22:31.514955+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.223865", "seconds": 2.223865}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473606721568, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:22:31.514955+00:00", "timestamp": 1765063351.514955}}}
{"text": "2025-12-06T23:22:31.515316+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.224226", "seconds": 2.224226}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473606721568, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:22:31.515316+00:00", "timestamp": 1765063351.515316}}}
{"text": "2025-12-06T23:22:31.546230+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.255140", "seconds": 2.25514}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473606721568, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:22:31.546230+00:00", "timestamp": 1765063351.54623}}}
{"text": "2025-12-06T23:22:31.549889+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.258799", "seconds": 2.258799}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473606721568, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:22:31.549889+00:00", "timestamp": 1765063351.549889}}}
{"text": "2025-12-06T23:23:01.810348+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bab76a9dcfe85a7bd2e7, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.519258", "seconds": 32.519258}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bab76a9dcfe85a7bd2e7, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473606721568, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:01.810348+00:00", "timestamp": 1765063381.810348}}}
{"text": "2025-12-06T23:23:01.822771+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.531681", "seconds": 32.531681}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473606721568, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:01.822771+00:00", "timestamp": 1765063381.822771}}}
{"text": "2025-12-06T23:23:01.831261+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.540171", "seconds": 32.540171}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473606721568, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:01.831261+00:00", "timestamp": 1765063381.831261}}}
{"text": "2025-12-06T23:23:02.146348+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:32.855258", "seconds": 32.855258}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473606721568, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:02.146348+00:00", "timestamp": 1765063382.146348}}}
{"text": "2025-12-06T23:23:02.189602+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.898512", "seconds": 32.898512}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473606721568, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:02.189602+00:00", "timestamp": 1765063382.189602}}}
{"text": "2025-12-06T23:23:02.190044+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.898954", "seconds": 32.898954}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473606721568, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:02.190044+00:00", "timestamp": 1765063382.190044}}}
{"text": "2025-12-06T23:23:02.351540+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.060450", "seconds": 33.06045}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473606721568, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:02.351540+00:00", "timestamp": 1765063382.35154}}}
{"text": "2025-12-06T23:23:04.962448+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.306183", "seconds": 0.306183}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473499136032, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:04.962448+00:00", "timestamp": 1765063384.962448}}}
{"text": "2025-12-06T23:23:04.962817+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.306552", "seconds": 0.306552}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473499136032, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:04.962817+00:00", "timestamp": 1765063384.962817}}}
{"text": "2025-12-06T23:23:05.946544+0000 INFO MAIN Infisical authentication completed in 0.984s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.290279", "seconds": 1.290279}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 0.984s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473499136032, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:05.946544+00:00", "timestamp": 1765063385.946544}}}
{"text": "2025-12-06T23:23:06.242781+0000 INFO MAIN Infisical secrets fetched in 0.295s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.586516", "seconds": 1.586516}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.295s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473499136032, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:06.242781+00:00", "timestamp": 1765063386.242781}}}
{"text": "2025-12-06T23:23:06.243725+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.587460", "seconds": 1.58746}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473499136032, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:06.243725+00:00", "timestamp": 1765063386.243725}}}
{"text": "2025-12-06T23:23:06.244023+0000 INFO MAIN Infisical secrets loaded in 1.281s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.587758", "seconds": 1.587758}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.281s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473499136032, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:06.244023+00:00", "timestamp": 1765063386.244023}}}
{"text": "2025-12-06T23:23:06.248146+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.591881", "seconds": 1.591881}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473499136032, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:06.248146+00:00", "timestamp": 1765063386.248146}}}
{"text": "2025-12-06T23:23:07.009882+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.353617", "seconds": 2.353617}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473499136032, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:07.009882+00:00", "timestamp": 1765063387.009882}}}
{"text": "2025-12-06T23:23:07.153912+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.497647", "seconds": 2.497647}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473499136032, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:07.153912+00:00", "timestamp": 1765063387.153912}}}
{"text": "2025-12-06T23:23:07.154188+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.497923", "seconds": 2.497923}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473499136032, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:07.154188+00:00", "timestamp": 1765063387.154188}}}
{"text": "2025-12-06T23:23:07.187238+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.530973", "seconds": 2.530973}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473499136032, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:07.187238+00:00", "timestamp": 1765063387.187238}}}
{"text": "2025-12-06T23:23:07.187610+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.531345", "seconds": 2.531345}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473499136032, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:07.187610+00:00", "timestamp": 1765063387.18761}}}
{"text": "2025-12-06T23:23:07.216312+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.560047", "seconds": 2.560047}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473499136032, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:07.216312+00:00", "timestamp": 1765063387.216312}}}
{"text": "2025-12-06T23:23:07.220899+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.564634", "seconds": 2.564634}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473499136032, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:07.220899+00:00", "timestamp": 1765063387.220899}}}
{"text": "2025-12-06T23:23:37.433541+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934badb18b2308546f6af6c, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.777276", "seconds": 32.777276}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934badb18b2308546f6af6c, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473499136032, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:37.433541+00:00", "timestamp": 1765063417.433541}}}
{"text": "2025-12-06T23:23:37.437653+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.781388", "seconds": 32.781388}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473499136032, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:37.437653+00:00", "timestamp": 1765063417.437653}}}
{"text": "2025-12-06T23:23:37.438088+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.781823", "seconds": 32.781823}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473499136032, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:37.438088+00:00", "timestamp": 1765063417.438088}}}
{"text": "2025-12-06T23:23:37.720680+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:33.064415", "seconds": 33.064415}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473499136032, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:37.720680+00:00", "timestamp": 1765063417.72068}}}
{"text": "2025-12-06T23:23:37.762285+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.106020", "seconds": 33.10602}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473499136032, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:37.762285+00:00", "timestamp": 1765063417.762285}}}
{"text": "2025-12-06T23:23:37.762616+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.106351", "seconds": 33.106351}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473499136032, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:37.762616+00:00", "timestamp": 1765063417.762616}}}
{"text": "2025-12-06T23:23:37.922092+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.265827", "seconds": 33.265827}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473499136032, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:37.922092+00:00", "timestamp": 1765063417.922092}}}
{"text": "2025-12-06T23:23:39.127622+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.208277", "seconds": 0.208277}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472974196768, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:39.127622+00:00", "timestamp": 1765063419.127622}}}
{"text": "2025-12-06T23:23:39.127937+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.208592", "seconds": 0.208592}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472974196768, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:39.127937+00:00", "timestamp": 1765063419.127937}}}
{"text": "2025-12-06T23:23:40.007638+0000 INFO MAIN Infisical authentication completed in 0.880s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.088293", "seconds": 1.088293}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 0.880s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472974196768, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:40.007638+00:00", "timestamp": 1765063420.007638}}}
{"text": "2025-12-06T23:23:40.313562+0000 INFO MAIN Infisical secrets fetched in 0.305s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.394217", "seconds": 1.394217}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.305s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472974196768, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:40.313562+00:00", "timestamp": 1765063420.313562}}}
{"text": "2025-12-06T23:23:40.314248+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.394903", "seconds": 1.394903}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472974196768, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:40.314248+00:00", "timestamp": 1765063420.314248}}}
{"text": "2025-12-06T23:23:40.314725+0000 INFO MAIN Infisical secrets loaded in 1.187s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.395380", "seconds": 1.39538}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.187s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472974196768, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:40.314725+00:00", "timestamp": 1765063420.314725}}}
{"text": "2025-12-06T23:23:40.319008+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.399663", "seconds": 1.399663}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472974196768, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:40.319008+00:00", "timestamp": 1765063420.319008}}}
{"text": "2025-12-06T23:23:40.995920+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.076575", "seconds": 2.076575}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472974196768, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:40.995920+00:00", "timestamp": 1765063420.99592}}}
{"text": "2025-12-06T23:23:41.136120+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.216775", "seconds": 2.216775}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472974196768, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:41.136120+00:00", "timestamp": 1765063421.13612}}}
{"text": "2025-12-06T23:23:41.136365+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.217020", "seconds": 2.21702}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472974196768, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:41.136365+00:00", "timestamp": 1765063421.136365}}}
{"text": "2025-12-06T23:23:41.163445+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.244100", "seconds": 2.2441}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472974196768, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:41.163445+00:00", "timestamp": 1765063421.163445}}}
{"text": "2025-12-06T23:23:41.163772+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.244427", "seconds": 2.244427}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472974196768, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:41.163772+00:00", "timestamp": 1765063421.163772}}}
{"text": "2025-12-06T23:23:41.192179+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.272834", "seconds": 2.272834}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472974196768, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:41.192179+00:00", "timestamp": 1765063421.192179}}}
{"text": "2025-12-06T23:23:41.197353+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.278008", "seconds": 2.278008}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472974196768, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:23:41.197353+00:00", "timestamp": 1765063421.197353}}}
{"text": "2025-12-06T23:24:11.430420+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bafd562e5a9d014569da, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.511075", "seconds": 32.511075}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bafd562e5a9d014569da, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472974196768, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:11.430420+00:00", "timestamp": 1765063451.43042}}}
{"text": "2025-12-06T23:24:11.435571+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.516226", "seconds": 32.516226}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472974196768, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:11.435571+00:00", "timestamp": 1765063451.435571}}}
{"text": "2025-12-06T23:24:11.436339+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.516994", "seconds": 32.516994}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472974196768, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:11.436339+00:00", "timestamp": 1765063451.436339}}}
{"text": "2025-12-06T23:24:11.744849+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:32.825504", "seconds": 32.825504}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472974196768, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:11.744849+00:00", "timestamp": 1765063451.744849}}}
{"text": "2025-12-06T23:24:11.784526+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.865181", "seconds": 32.865181}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472974196768, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:11.784526+00:00", "timestamp": 1765063451.784526}}}
{"text": "2025-12-06T23:24:11.784962+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.865617", "seconds": 32.865617}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472974196768, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:11.784962+00:00", "timestamp": 1765063451.784962}}}
{"text": "2025-12-06T23:24:11.973733+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.054388", "seconds": 33.054388}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472974196768, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:11.973733+00:00", "timestamp": 1765063451.973733}}}
{"text": "2025-12-06T23:24:13.235016+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.200639", "seconds": 0.200639}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473044185120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:13.235016+00:00", "timestamp": 1765063453.235016}}}
{"text": "2025-12-06T23:24:13.235313+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.200936", "seconds": 0.200936}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473044185120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:13.235313+00:00", "timestamp": 1765063453.235313}}}
{"text": "2025-12-06T23:24:14.103697+0000 INFO MAIN Infisical authentication completed in 0.868s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.069320", "seconds": 1.06932}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 0.868s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473044185120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:14.103697+00:00", "timestamp": 1765063454.103697}}}
{"text": "2025-12-06T23:24:14.388170+0000 INFO MAIN Infisical secrets fetched in 0.283s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.353793", "seconds": 1.353793}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.283s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473044185120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:14.388170+00:00", "timestamp": 1765063454.38817}}}
{"text": "2025-12-06T23:24:14.389053+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.354676", "seconds": 1.354676}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473044185120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:14.389053+00:00", "timestamp": 1765063454.389053}}}
{"text": "2025-12-06T23:24:14.389942+0000 INFO MAIN Infisical secrets loaded in 1.155s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.355565", "seconds": 1.355565}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.155s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473044185120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:14.389942+00:00", "timestamp": 1765063454.389942}}}
{"text": "2025-12-06T23:24:14.393779+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.359402", "seconds": 1.359402}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473044185120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:14.393779+00:00", "timestamp": 1765063454.393779}}}
{"text": "2025-12-06T23:24:15.134260+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.099883", "seconds": 2.099883}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473044185120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:15.134260+00:00", "timestamp": 1765063455.13426}}}
{"text": "2025-12-06T23:24:15.294987+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.260610", "seconds": 2.26061}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473044185120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:15.294987+00:00", "timestamp": 1765063455.294987}}}
{"text": "2025-12-06T23:24:15.295253+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.260876", "seconds": 2.260876}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473044185120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:15.295253+00:00", "timestamp": 1765063455.295253}}}
{"text": "2025-12-06T23:24:15.323968+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.289591", "seconds": 2.289591}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473044185120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:15.323968+00:00", "timestamp": 1765063455.323968}}}
{"text": "2025-12-06T23:24:15.324224+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.289847", "seconds": 2.289847}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473044185120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:15.324224+00:00", "timestamp": 1765063455.324224}}}
{"text": "2025-12-06T23:24:15.353076+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.318699", "seconds": 2.318699}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473044185120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:15.353076+00:00", "timestamp": 1765063455.353076}}}
{"text": "2025-12-06T23:24:15.357612+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.323235", "seconds": 2.323235}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473044185120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:15.357612+00:00", "timestamp": 1765063455.357612}}}
{"text": "2025-12-06T23:24:45.602697+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bb1f6f3541bd2640d4d7, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.568320", "seconds": 32.56832}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bb1f6f3541bd2640d4d7, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473044185120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:45.602697+00:00", "timestamp": 1765063485.602697}}}
{"text": "2025-12-06T23:24:45.603491+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.569114", "seconds": 32.569114}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473044185120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:45.603491+00:00", "timestamp": 1765063485.603491}}}
{"text": "2025-12-06T23:24:45.603752+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.569375", "seconds": 32.569375}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473044185120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:45.603752+00:00", "timestamp": 1765063485.603752}}}
{"text": "2025-12-06T23:24:45.839149+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:32.804772", "seconds": 32.804772}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473044185120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:45.839149+00:00", "timestamp": 1765063485.839149}}}
{"text": "2025-12-06T23:24:45.872774+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.838397", "seconds": 32.838397}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473044185120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:45.872774+00:00", "timestamp": 1765063485.872774}}}
{"text": "2025-12-06T23:24:45.873133+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.838756", "seconds": 32.838756}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473044185120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:45.873133+00:00", "timestamp": 1765063485.873133}}}
{"text": "2025-12-06T23:24:46.020838+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.986461", "seconds": 32.986461}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473044185120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:46.020838+00:00", "timestamp": 1765063486.020838}}}
{"text": "2025-12-06T23:24:48.412298+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.223966", "seconds": 0.223966}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473406525472, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:48.412298+00:00", "timestamp": 1765063488.412298}}}
{"text": "2025-12-06T23:24:48.412715+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.224383", "seconds": 0.224383}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473406525472, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:48.412715+00:00", "timestamp": 1765063488.412715}}}
{"text": "2025-12-06T23:24:49.522624+0000 INFO MAIN Infisical authentication completed in 1.110s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.334292", "seconds": 1.334292}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 1.110s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473406525472, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:49.522624+00:00", "timestamp": 1765063489.522624}}}
{"text": "2025-12-06T23:24:50.026100+0000 INFO MAIN Infisical secrets fetched in 0.503s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.837768", "seconds": 1.837768}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.503s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473406525472, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:50.026100+00:00", "timestamp": 1765063490.0261}}}
{"text": "2025-12-06T23:24:50.026835+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.838503", "seconds": 1.838503}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473406525472, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:50.026835+00:00", "timestamp": 1765063490.026835}}}
{"text": "2025-12-06T23:24:50.028649+0000 INFO MAIN Infisical secrets loaded in 1.616s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.840317", "seconds": 1.840317}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.616s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473406525472, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:50.028649+00:00", "timestamp": 1765063490.028649}}}
{"text": "2025-12-06T23:24:50.032678+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.844346", "seconds": 1.844346}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473406525472, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:50.032678+00:00", "timestamp": 1765063490.032678}}}
{"text": "2025-12-06T23:24:50.772208+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.583876", "seconds": 2.583876}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473406525472, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:50.772208+00:00", "timestamp": 1765063490.772208}}}
{"text": "2025-12-06T23:24:50.911085+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.722753", "seconds": 2.722753}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473406525472, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:50.911085+00:00", "timestamp": 1765063490.911085}}}
{"text": "2025-12-06T23:24:50.911336+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.723004", "seconds": 2.723004}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473406525472, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:50.911336+00:00", "timestamp": 1765063490.911336}}}
{"text": "2025-12-06T23:24:50.938401+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.750069", "seconds": 2.750069}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473406525472, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:50.938401+00:00", "timestamp": 1765063490.938401}}}
{"text": "2025-12-06T23:24:50.938650+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.750318", "seconds": 2.750318}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473406525472, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:50.938650+00:00", "timestamp": 1765063490.93865}}}
{"text": "2025-12-06T23:24:50.967424+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.779092", "seconds": 2.779092}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473406525472, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:50.967424+00:00", "timestamp": 1765063490.967424}}}
{"text": "2025-12-06T23:24:50.972487+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.784155", "seconds": 2.784155}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473406525472, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:24:50.972487+00:00", "timestamp": 1765063490.972487}}}
{"text": "2025-12-06T23:25:21.182966+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bb42d8258a8580a53de7, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.994634", "seconds": 32.994634}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bb42d8258a8580a53de7, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473406525472, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:21.182966+00:00", "timestamp": 1765063521.182966}}}
{"text": "2025-12-06T23:25:21.187768+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.999436", "seconds": 32.999436}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473406525472, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:21.187768+00:00", "timestamp": 1765063521.187768}}}
{"text": "2025-12-06T23:25:21.188380+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.000048", "seconds": 33.000048}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473406525472, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:21.188380+00:00", "timestamp": 1765063521.18838}}}
{"text": "2025-12-06T23:25:21.455691+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:33.267359", "seconds": 33.267359}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473406525472, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:21.455691+00:00", "timestamp": 1765063521.455691}}}
{"text": "2025-12-06T23:25:21.486071+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.297739", "seconds": 33.297739}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473406525472, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:21.486071+00:00", "timestamp": 1765063521.486071}}}
{"text": "2025-12-06T23:25:21.486532+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.298200", "seconds": 33.2982}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473406525472, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:21.486532+00:00", "timestamp": 1765063521.486532}}}
{"text": "2025-12-06T23:25:21.633919+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.445587", "seconds": 33.445587}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473406525472, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:21.633919+00:00", "timestamp": 1765063521.633919}}}
{"text": "2025-12-06T23:25:24.338445+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.202374", "seconds": 0.202374}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473147101216, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:24.338445+00:00", "timestamp": 1765063524.338445}}}
{"text": "2025-12-06T23:25:24.338941+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.202870", "seconds": 0.20287}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473147101216, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:24.338941+00:00", "timestamp": 1765063524.338941}}}
{"text": "2025-12-06T23:25:25.194385+0000 INFO MAIN Infisical authentication completed in 0.855s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.058314", "seconds": 1.058314}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 0.855s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473147101216, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:25.194385+00:00", "timestamp": 1765063525.194385}}}
{"text": "2025-12-06T23:25:25.552226+0000 INFO MAIN Infisical secrets fetched in 0.357s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.416155", "seconds": 1.416155}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.357s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473147101216, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:25.552226+00:00", "timestamp": 1765063525.552226}}}
{"text": "2025-12-06T23:25:25.553448+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.417377", "seconds": 1.417377}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473147101216, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:25.553448+00:00", "timestamp": 1765063525.553448}}}
{"text": "2025-12-06T23:25:25.554087+0000 INFO MAIN Infisical secrets loaded in 1.215s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.418016", "seconds": 1.418016}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.215s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473147101216, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:25.554087+00:00", "timestamp": 1765063525.554087}}}
{"text": "2025-12-06T23:25:25.559314+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.423243", "seconds": 1.423243}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473147101216, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:25.559314+00:00", "timestamp": 1765063525.559314}}}
{"text": "2025-12-06T23:25:26.300179+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.164108", "seconds": 2.164108}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473147101216, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:26.300179+00:00", "timestamp": 1765063526.300179}}}
{"text": "2025-12-06T23:25:26.452266+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.316195", "seconds": 2.316195}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473147101216, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:26.452266+00:00", "timestamp": 1765063526.452266}}}
{"text": "2025-12-06T23:25:26.452726+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.316655", "seconds": 2.316655}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473147101216, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:26.452726+00:00", "timestamp": 1765063526.452726}}}
{"text": "2025-12-06T23:25:26.481431+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.345360", "seconds": 2.34536}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473147101216, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:26.481431+00:00", "timestamp": 1765063526.481431}}}
{"text": "2025-12-06T23:25:26.481823+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.345752", "seconds": 2.345752}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473147101216, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:26.481823+00:00", "timestamp": 1765063526.481823}}}
{"text": "2025-12-06T23:25:26.513345+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.377274", "seconds": 2.377274}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473147101216, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:26.513345+00:00", "timestamp": 1765063526.513345}}}
{"text": "2025-12-06T23:25:26.516694+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.380623", "seconds": 2.380623}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473147101216, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:26.516694+00:00", "timestamp": 1765063526.516694}}}
{"text": "2025-12-06T23:25:56.754991+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bb6622559862a7966551, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.618920", "seconds": 32.61892}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bb6622559862a7966551, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473147101216, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:56.754991+00:00", "timestamp": 1765063556.754991}}}
{"text": "2025-12-06T23:25:56.762171+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.626100", "seconds": 32.6261}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473147101216, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:56.762171+00:00", "timestamp": 1765063556.762171}}}
{"text": "2025-12-06T23:25:56.763001+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.626930", "seconds": 32.62693}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473147101216, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:56.763001+00:00", "timestamp": 1765063556.763001}}}
{"text": "2025-12-06T23:25:57.046191+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:32.910120", "seconds": 32.91012}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473147101216, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:57.046191+00:00", "timestamp": 1765063557.046191}}}
{"text": "2025-12-06T23:25:57.087612+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.951541", "seconds": 32.951541}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473147101216, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:57.087612+00:00", "timestamp": 1765063557.087612}}}
{"text": "2025-12-06T23:25:57.088132+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.952061", "seconds": 32.952061}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473147101216, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:57.088132+00:00", "timestamp": 1765063557.088132}}}
{"text": "2025-12-06T23:25:57.249918+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.113847", "seconds": 33.113847}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473147101216, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:57.249918+00:00", "timestamp": 1765063557.249918}}}
{"text": "2025-12-06T23:25:59.751867+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.208970", "seconds": 0.20897}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473480671264, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:59.751867+00:00", "timestamp": 1765063559.751867}}}
{"text": "2025-12-06T23:25:59.752356+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.209459", "seconds": 0.209459}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473480671264, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:25:59.752356+00:00", "timestamp": 1765063559.752356}}}
{"text": "2025-12-06T23:26:00.667829+0000 INFO MAIN Infisical authentication completed in 0.915s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.124932", "seconds": 1.124932}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 0.915s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473480671264, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:00.667829+00:00", "timestamp": 1765063560.667829}}}
{"text": "2025-12-06T23:26:00.989042+0000 INFO MAIN Infisical secrets fetched in 0.320s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.446145", "seconds": 1.446145}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.320s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473480671264, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:00.989042+00:00", "timestamp": 1765063560.989042}}}
{"text": "2025-12-06T23:26:00.989639+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.446742", "seconds": 1.446742}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473480671264, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:00.989639+00:00", "timestamp": 1765063560.989639}}}
{"text": "2025-12-06T23:26:00.990130+0000 INFO MAIN Infisical secrets loaded in 1.238s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.447233", "seconds": 1.447233}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.238s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473480671264, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:00.990130+00:00", "timestamp": 1765063560.99013}}}
{"text": "2025-12-06T23:26:00.994454+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.451557", "seconds": 1.451557}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473480671264, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:00.994454+00:00", "timestamp": 1765063560.994454}}}
{"text": "2025-12-06T23:26:01.668700+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.125803", "seconds": 2.125803}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473480671264, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:01.668700+00:00", "timestamp": 1765063561.6687}}}
{"text": "2025-12-06T23:26:01.812581+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.269684", "seconds": 2.269684}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473480671264, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:01.812581+00:00", "timestamp": 1765063561.812581}}}
{"text": "2025-12-06T23:26:01.812831+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.269934", "seconds": 2.269934}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473480671264, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:01.812831+00:00", "timestamp": 1765063561.812831}}}
{"text": "2025-12-06T23:26:01.839483+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.296586", "seconds": 2.296586}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473480671264, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:01.839483+00:00", "timestamp": 1765063561.839483}}}
{"text": "2025-12-06T23:26:01.839693+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.296796", "seconds": 2.296796}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473480671264, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:01.839693+00:00", "timestamp": 1765063561.839693}}}
{"text": "2025-12-06T23:26:01.865310+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.322413", "seconds": 2.322413}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473480671264, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:01.865310+00:00", "timestamp": 1765063561.86531}}}
{"text": "2025-12-06T23:26:01.869599+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.326702", "seconds": 2.326702}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473480671264, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:01.869599+00:00", "timestamp": 1765063561.869599}}}
{"text": "2025-12-06T23:26:32.105365+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bb894845b90db92d2fec, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.562468", "seconds": 32.562468}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bb894845b90db92d2fec, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473480671264, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:32.105365+00:00", "timestamp": 1765063592.105365}}}
{"text": "2025-12-06T23:26:32.110098+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.567201", "seconds": 32.567201}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473480671264, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:32.110098+00:00", "timestamp": 1765063592.110098}}}
{"text": "2025-12-06T23:26:32.110611+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.567714", "seconds": 32.567714}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473480671264, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:32.110611+00:00", "timestamp": 1765063592.110611}}}
{"text": "2025-12-06T23:26:32.436199+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:32.893302", "seconds": 32.893302}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473480671264, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:32.436199+00:00", "timestamp": 1765063592.436199}}}
{"text": "2025-12-06T23:26:32.479853+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.936956", "seconds": 32.936956}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473480671264, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:32.479853+00:00", "timestamp": 1765063592.479853}}}
{"text": "2025-12-06T23:26:32.480293+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.937396", "seconds": 32.937396}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473480671264, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:32.480293+00:00", "timestamp": 1765063592.480293}}}
{"text": "2025-12-06T23:26:32.676175+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.133278", "seconds": 33.133278}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473480671264, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:32.676175+00:00", "timestamp": 1765063592.676175}}}
{"text": "2025-12-06T23:26:34.439592+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.224639", "seconds": 0.224639}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472855207968, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:34.439592+00:00", "timestamp": 1765063594.439592}}}
{"text": "2025-12-06T23:26:34.439919+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.224966", "seconds": 0.224966}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472855207968, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:34.439919+00:00", "timestamp": 1765063594.439919}}}
{"text": "2025-12-06T23:26:35.692054+0000 INFO MAIN Infisical authentication completed in 1.252s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.477101", "seconds": 1.477101}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 1.252s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472855207968, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:35.692054+00:00", "timestamp": 1765063595.692054}}}
{"text": "2025-12-06T23:26:36.118017+0000 INFO MAIN Infisical secrets fetched in 0.425s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.903064", "seconds": 1.903064}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.425s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472855207968, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:36.118017+00:00", "timestamp": 1765063596.118017}}}
{"text": "2025-12-06T23:26:36.118601+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.903648", "seconds": 1.903648}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472855207968, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:36.118601+00:00", "timestamp": 1765063596.118601}}}
{"text": "2025-12-06T23:26:36.119019+0000 INFO MAIN Infisical secrets loaded in 1.679s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.904066", "seconds": 1.904066}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.679s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472855207968, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:36.119019+00:00", "timestamp": 1765063596.119019}}}
{"text": "2025-12-06T23:26:36.122547+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.907594", "seconds": 1.907594}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472855207968, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:36.122547+00:00", "timestamp": 1765063596.122547}}}
{"text": "2025-12-06T23:26:36.861300+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.646347", "seconds": 2.646347}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472855207968, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:36.861300+00:00", "timestamp": 1765063596.8613}}}
{"text": "2025-12-06T23:26:37.010744+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.795791", "seconds": 2.795791}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472855207968, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:37.010744+00:00", "timestamp": 1765063597.010744}}}
{"text": "2025-12-06T23:26:37.010964+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.796011", "seconds": 2.796011}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472855207968, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:37.010964+00:00", "timestamp": 1765063597.010964}}}
{"text": "2025-12-06T23:26:37.040317+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.825364", "seconds": 2.825364}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472855207968, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:37.040317+00:00", "timestamp": 1765063597.040317}}}
{"text": "2025-12-06T23:26:37.040777+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.825824", "seconds": 2.825824}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472855207968, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:37.040777+00:00", "timestamp": 1765063597.040777}}}
{"text": "2025-12-06T23:26:37.077373+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.862420", "seconds": 2.86242}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472855207968, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:37.077373+00:00", "timestamp": 1765063597.077373}}}
{"text": "2025-12-06T23:26:37.106545+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.891592", "seconds": 2.891592}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472855207968, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:26:37.106545+00:00", "timestamp": 1765063597.106545}}}
{"text": "2025-12-06T23:27:07.321696+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bbadc8c568ff8687eef1, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:33.106743", "seconds": 33.106743}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bbadc8c568ff8687eef1, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472855207968, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:07.321696+00:00", "timestamp": 1765063627.321696}}}
{"text": "2025-12-06T23:27:07.327204+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:33.112251", "seconds": 33.112251}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472855207968, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:07.327204+00:00", "timestamp": 1765063627.327204}}}
{"text": "2025-12-06T23:27:07.327950+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.112997", "seconds": 33.112997}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472855207968, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:07.327950+00:00", "timestamp": 1765063627.32795}}}
{"text": "2025-12-06T23:27:07.634425+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:33.419472", "seconds": 33.419472}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472855207968, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:07.634425+00:00", "timestamp": 1765063627.634425}}}
{"text": "2025-12-06T23:27:07.674618+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.459665", "seconds": 33.459665}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472855207968, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:07.674618+00:00", "timestamp": 1765063627.674618}}}
{"text": "2025-12-06T23:27:07.675009+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.460056", "seconds": 33.460056}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472855207968, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:07.675009+00:00", "timestamp": 1765063627.675009}}}
{"text": "2025-12-06T23:27:07.846843+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.631890", "seconds": 33.63189}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472855207968, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:07.846843+00:00", "timestamp": 1765063627.846843}}}
{"text": "2025-12-06T23:27:09.263468+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.208741", "seconds": 0.208741}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473447686176, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:09.263468+00:00", "timestamp": 1765063629.263468}}}
{"text": "2025-12-06T23:27:09.264008+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.209281", "seconds": 0.209281}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473447686176, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:09.264008+00:00", "timestamp": 1765063629.264008}}}
{"text": "2025-12-06T23:27:10.448590+0000 INFO MAIN Infisical authentication completed in 1.185s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.393863", "seconds": 1.393863}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 1.185s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473447686176, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:10.448590+00:00", "timestamp": 1765063630.44859}}}
{"text": "2025-12-06T23:27:11.189190+0000 INFO MAIN Infisical secrets fetched in 0.740s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.134463", "seconds": 2.134463}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.740s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473447686176, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:11.189190+00:00", "timestamp": 1765063631.18919}}}
{"text": "2025-12-06T23:27:11.190343+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.135616", "seconds": 2.135616}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473447686176, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:11.190343+00:00", "timestamp": 1765063631.190343}}}
{"text": "2025-12-06T23:27:11.190981+0000 INFO MAIN Infisical secrets loaded in 1.927s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.136254", "seconds": 2.136254}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.927s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473447686176, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:11.190981+00:00", "timestamp": 1765063631.190981}}}
{"text": "2025-12-06T23:27:11.194203+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.139476", "seconds": 2.139476}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473447686176, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:11.194203+00:00", "timestamp": 1765063631.194203}}}
{"text": "2025-12-06T23:27:11.994233+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.939506", "seconds": 2.939506}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473447686176, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:11.994233+00:00", "timestamp": 1765063631.994233}}}
{"text": "2025-12-06T23:27:12.146874+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:03.092147", "seconds": 3.092147}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473447686176, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:12.146874+00:00", "timestamp": 1765063632.146874}}}
{"text": "2025-12-06T23:27:12.147228+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:03.092501", "seconds": 3.092501}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473447686176, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:12.147228+00:00", "timestamp": 1765063632.147228}}}
{"text": "2025-12-06T23:27:12.176425+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:03.121698", "seconds": 3.121698}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473447686176, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:12.176425+00:00", "timestamp": 1765063632.176425}}}
{"text": "2025-12-06T23:27:12.176841+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:03.122114", "seconds": 3.122114}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473447686176, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:12.176841+00:00", "timestamp": 1765063632.176841}}}
{"text": "2025-12-06T23:27:12.207463+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:03.152736", "seconds": 3.152736}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473447686176, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:12.207463+00:00", "timestamp": 1765063632.207463}}}
{"text": "2025-12-06T23:27:12.212453+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:03.157726", "seconds": 3.157726}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473447686176, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:12.212453+00:00", "timestamp": 1765063632.212453}}}
{"text": "2025-12-06T23:27:42.459704+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bbd07d78332b26eb4992, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:33.404977", "seconds": 33.404977}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bbd07d78332b26eb4992, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473447686176, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:42.459704+00:00", "timestamp": 1765063662.459704}}}
{"text": "2025-12-06T23:27:42.465875+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:33.411148", "seconds": 33.411148}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473447686176, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:42.465875+00:00", "timestamp": 1765063662.465875}}}
{"text": "2025-12-06T23:27:42.466372+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.411645", "seconds": 33.411645}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473447686176, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:42.466372+00:00", "timestamp": 1765063662.466372}}}
{"text": "2025-12-06T23:27:42.757967+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:33.703240", "seconds": 33.70324}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473447686176, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:42.757967+00:00", "timestamp": 1765063662.757967}}}
{"text": "2025-12-06T23:27:42.794497+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.739770", "seconds": 33.73977}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473447686176, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:42.794497+00:00", "timestamp": 1765063662.794497}}}
{"text": "2025-12-06T23:27:42.794777+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.740050", "seconds": 33.74005}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473447686176, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:42.794777+00:00", "timestamp": 1765063662.794777}}}
{"text": "2025-12-06T23:27:42.951808+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.897081", "seconds": 33.897081}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473447686176, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:42.951808+00:00", "timestamp": 1765063662.951808}}}
{"text": "2025-12-06T23:27:44.027427+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.195293", "seconds": 0.195293}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473876086816, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:44.027427+00:00", "timestamp": 1765063664.027427}}}
{"text": "2025-12-06T23:27:44.027938+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.195804", "seconds": 0.195804}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473876086816, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:44.027938+00:00", "timestamp": 1765063664.027938}}}
{"text": "2025-12-06T23:27:44.835448+0000 INFO MAIN Infisical authentication completed in 0.807s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.003314", "seconds": 1.003314}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 0.807s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473876086816, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:44.835448+00:00", "timestamp": 1765063664.835448}}}
{"text": "2025-12-06T23:27:45.101444+0000 INFO MAIN Infisical secrets fetched in 0.265s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.269310", "seconds": 1.26931}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.265s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473876086816, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:45.101444+00:00", "timestamp": 1765063665.101444}}}
{"text": "2025-12-06T23:27:45.102318+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.270184", "seconds": 1.270184}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473876086816, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:45.102318+00:00", "timestamp": 1765063665.102318}}}
{"text": "2025-12-06T23:27:45.102595+0000 INFO MAIN Infisical secrets loaded in 1.075s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.270461", "seconds": 1.270461}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.075s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473876086816, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:45.102595+00:00", "timestamp": 1765063665.102595}}}
{"text": "2025-12-06T23:27:45.105387+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.273253", "seconds": 1.273253}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473876086816, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:45.105387+00:00", "timestamp": 1765063665.105387}}}
{"text": "2025-12-06T23:27:45.754044+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:01.921910", "seconds": 1.92191}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473876086816, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:45.754044+00:00", "timestamp": 1765063665.754044}}}
{"text": "2025-12-06T23:27:45.889624+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.057490", "seconds": 2.05749}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473876086816, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:45.889624+00:00", "timestamp": 1765063665.889624}}}
{"text": "2025-12-06T23:27:45.889869+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.057735", "seconds": 2.057735}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473876086816, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:45.889869+00:00", "timestamp": 1765063665.889869}}}
{"text": "2025-12-06T23:27:45.914873+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.082739", "seconds": 2.082739}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473876086816, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:45.914873+00:00", "timestamp": 1765063665.914873}}}
{"text": "2025-12-06T23:27:45.915117+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.082983", "seconds": 2.082983}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473876086816, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:45.915117+00:00", "timestamp": 1765063665.915117}}}
{"text": "2025-12-06T23:27:45.939974+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.107840", "seconds": 2.10784}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473876086816, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:45.939974+00:00", "timestamp": 1765063665.939974}}}
{"text": "2025-12-06T23:27:45.942418+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.110284", "seconds": 2.110284}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473876086816, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:27:45.942418+00:00", "timestamp": 1765063665.942418}}}
{"text": "2025-12-06T23:28:16.164063+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bbf1b2866f632a1427b5, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.331929", "seconds": 32.331929}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bbf1b2866f632a1427b5, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473876086816, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:16.164063+00:00", "timestamp": 1765063696.164063}}}
{"text": "2025-12-06T23:28:16.169444+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.337310", "seconds": 32.33731}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473876086816, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:16.169444+00:00", "timestamp": 1765063696.169444}}}
{"text": "2025-12-06T23:28:16.170309+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.338175", "seconds": 32.338175}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473876086816, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:16.170309+00:00", "timestamp": 1765063696.170309}}}
{"text": "2025-12-06T23:28:16.472947+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:32.640813", "seconds": 32.640813}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473876086816, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:16.472947+00:00", "timestamp": 1765063696.472947}}}
{"text": "2025-12-06T23:28:16.508797+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.676663", "seconds": 32.676663}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473876086816, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:16.508797+00:00", "timestamp": 1765063696.508797}}}
{"text": "2025-12-06T23:28:16.509115+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.676981", "seconds": 32.676981}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473876086816, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:16.509115+00:00", "timestamp": 1765063696.509115}}}
{"text": "2025-12-06T23:28:16.681526+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.849392", "seconds": 32.849392}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473876086816, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:16.681526+00:00", "timestamp": 1765063696.681526}}}
{"text": "2025-12-06T23:28:17.755930+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.193063", "seconds": 0.193063}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473124921376, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:17.755930+00:00", "timestamp": 1765063697.75593}}}
{"text": "2025-12-06T23:28:17.756202+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.193335", "seconds": 0.193335}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473124921376, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:17.756202+00:00", "timestamp": 1765063697.756202}}}
{"text": "2025-12-06T23:28:18.670004+0000 INFO MAIN Infisical authentication completed in 0.914s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.107137", "seconds": 1.107137}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 0.914s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473124921376, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:18.670004+00:00", "timestamp": 1765063698.670004}}}
{"text": "2025-12-06T23:28:18.926934+0000 INFO MAIN Infisical secrets fetched in 0.256s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.364067", "seconds": 1.364067}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.256s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473124921376, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:18.926934+00:00", "timestamp": 1765063698.926934}}}
{"text": "2025-12-06T23:28:18.928597+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.365730", "seconds": 1.36573}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473124921376, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:18.928597+00:00", "timestamp": 1765063698.928597}}}
{"text": "2025-12-06T23:28:18.929050+0000 INFO MAIN Infisical secrets loaded in 1.173s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.366183", "seconds": 1.366183}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.173s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473124921376, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:18.929050+00:00", "timestamp": 1765063698.92905}}}
{"text": "2025-12-06T23:28:18.932993+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.370126", "seconds": 1.370126}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473124921376, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:18.932993+00:00", "timestamp": 1765063698.932993}}}
{"text": "2025-12-06T23:28:19.651649+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.088782", "seconds": 2.088782}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473124921376, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:19.651649+00:00", "timestamp": 1765063699.651649}}}
{"text": "2025-12-06T23:28:19.805927+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.243060", "seconds": 2.24306}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473124921376, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:19.805927+00:00", "timestamp": 1765063699.805927}}}
{"text": "2025-12-06T23:28:19.806206+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.243339", "seconds": 2.243339}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473124921376, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:19.806206+00:00", "timestamp": 1765063699.806206}}}
{"text": "2025-12-06T23:28:19.834943+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.272076", "seconds": 2.272076}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473124921376, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:19.834943+00:00", "timestamp": 1765063699.834943}}}
{"text": "2025-12-06T23:28:19.835281+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.272414", "seconds": 2.272414}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473124921376, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:19.835281+00:00", "timestamp": 1765063699.835281}}}
{"text": "2025-12-06T23:28:19.868832+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.305965", "seconds": 2.305965}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473124921376, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:19.868832+00:00", "timestamp": 1765063699.868832}}}
{"text": "2025-12-06T23:28:19.873431+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.310564", "seconds": 2.310564}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473124921376, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:19.873431+00:00", "timestamp": 1765063699.873431}}}
{"text": "2025-12-06T23:28:50.069582+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bc1376fe5dfca8788192, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.506715", "seconds": 32.506715}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bc1376fe5dfca8788192, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473124921376, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:50.069582+00:00", "timestamp": 1765063730.069582}}}
{"text": "2025-12-06T23:28:50.071532+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.508665", "seconds": 32.508665}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473124921376, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:50.071532+00:00", "timestamp": 1765063730.071532}}}
{"text": "2025-12-06T23:28:50.071858+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.508991", "seconds": 32.508991}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473124921376, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:50.071858+00:00", "timestamp": 1765063730.071858}}}
{"text": "2025-12-06T23:28:50.330534+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:32.767667", "seconds": 32.767667}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473124921376, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:50.330534+00:00", "timestamp": 1765063730.330534}}}
{"text": "2025-12-06T23:28:50.365405+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.802538", "seconds": 32.802538}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473124921376, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:50.365405+00:00", "timestamp": 1765063730.365405}}}
{"text": "2025-12-06T23:28:50.365744+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.802877", "seconds": 32.802877}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473124921376, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:50.365744+00:00", "timestamp": 1765063730.365744}}}
{"text": "2025-12-06T23:28:50.518574+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.955707", "seconds": 32.955707}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473124921376, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:50.518574+00:00", "timestamp": 1765063730.518574}}}
{"text": "2025-12-06T23:28:51.594384+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.215000", "seconds": 0.215}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473541255200, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:51.594384+00:00", "timestamp": 1765063731.594384}}}
{"text": "2025-12-06T23:28:51.594690+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.215306", "seconds": 0.215306}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473541255200, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:51.594690+00:00", "timestamp": 1765063731.59469}}}
{"text": "2025-12-06T23:28:52.421092+0000 INFO MAIN Infisical authentication completed in 0.826s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.041708", "seconds": 1.041708}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 0.826s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473541255200, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:52.421092+00:00", "timestamp": 1765063732.421092}}}
{"text": "2025-12-06T23:28:52.713052+0000 INFO MAIN Infisical secrets fetched in 0.291s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.333668", "seconds": 1.333668}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.291s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473541255200, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:52.713052+00:00", "timestamp": 1765063732.713052}}}
{"text": "2025-12-06T23:28:52.713323+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.333939", "seconds": 1.333939}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473541255200, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:52.713323+00:00", "timestamp": 1765063732.713323}}}
{"text": "2025-12-06T23:28:52.713426+0000 INFO MAIN Infisical secrets loaded in 1.119s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.334042", "seconds": 1.334042}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.119s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473541255200, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:52.713426+00:00", "timestamp": 1765063732.713426}}}
{"text": "2025-12-06T23:28:52.714601+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.335217", "seconds": 1.335217}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473541255200, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:52.714601+00:00", "timestamp": 1765063732.714601}}}
{"text": "2025-12-06T23:28:53.402317+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.022933", "seconds": 2.022933}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473541255200, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:53.402317+00:00", "timestamp": 1765063733.402317}}}
{"text": "2025-12-06T23:28:53.548561+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.169177", "seconds": 2.169177}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473541255200, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:53.548561+00:00", "timestamp": 1765063733.548561}}}
{"text": "2025-12-06T23:28:53.549053+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.169669", "seconds": 2.169669}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473541255200, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:53.549053+00:00", "timestamp": 1765063733.549053}}}
{"text": "2025-12-06T23:28:53.577907+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.198523", "seconds": 2.198523}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473541255200, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:53.577907+00:00", "timestamp": 1765063733.577907}}}
{"text": "2025-12-06T23:28:53.578323+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.198939", "seconds": 2.198939}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473541255200, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:53.578323+00:00", "timestamp": 1765063733.578323}}}
{"text": "2025-12-06T23:28:53.606403+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.227019", "seconds": 2.227019}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473541255200, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:53.606403+00:00", "timestamp": 1765063733.606403}}}
{"text": "2025-12-06T23:28:53.611398+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.232014", "seconds": 2.232014}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473541255200, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:28:53.611398+00:00", "timestamp": 1765063733.611398}}}
{"text": "2025-12-06T23:29:23.845970+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bc357ddba0d7015c53d7, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.466586", "seconds": 32.466586}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bc357ddba0d7015c53d7, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473541255200, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:23.845970+00:00", "timestamp": 1765063763.84597}}}
{"text": "2025-12-06T23:29:23.854271+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.474887", "seconds": 32.474887}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473541255200, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:23.854271+00:00", "timestamp": 1765063763.854271}}}
{"text": "2025-12-06T23:29:23.855448+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.476064", "seconds": 32.476064}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473541255200, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:23.855448+00:00", "timestamp": 1765063763.855448}}}
{"text": "2025-12-06T23:29:24.123949+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:32.744565", "seconds": 32.744565}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473541255200, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:24.123949+00:00", "timestamp": 1765063764.123949}}}
{"text": "2025-12-06T23:29:24.158812+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.779428", "seconds": 32.779428}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473541255200, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:24.158812+00:00", "timestamp": 1765063764.158812}}}
{"text": "2025-12-06T23:29:24.159165+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.779781", "seconds": 32.779781}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473541255200, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:24.159165+00:00", "timestamp": 1765063764.159165}}}
{"text": "2025-12-06T23:29:24.323416+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.944032", "seconds": 32.944032}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473541255200, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:24.323416+00:00", "timestamp": 1765063764.323416}}}
{"text": "2025-12-06T23:29:25.420501+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.217504", "seconds": 0.217504}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473383952416, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:25.420501+00:00", "timestamp": 1765063765.420501}}}
{"text": "2025-12-06T23:29:25.420870+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.217873", "seconds": 0.217873}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473383952416, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:25.420870+00:00", "timestamp": 1765063765.42087}}}
{"text": "2025-12-06T23:29:26.269336+0000 INFO MAIN Infisical authentication completed in 0.848s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.066339", "seconds": 1.066339}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 0.848s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473383952416, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:26.269336+00:00", "timestamp": 1765063766.269336}}}
{"text": "2025-12-06T23:29:26.540903+0000 INFO MAIN Infisical secrets fetched in 0.271s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.337906", "seconds": 1.337906}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.271s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473383952416, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:26.540903+00:00", "timestamp": 1765063766.540903}}}
{"text": "2025-12-06T23:29:26.546591+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.343594", "seconds": 1.343594}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473383952416, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:26.546591+00:00", "timestamp": 1765063766.546591}}}
{"text": "2025-12-06T23:29:26.547738+0000 INFO MAIN Infisical secrets loaded in 1.127s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.344741", "seconds": 1.344741}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.127s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473383952416, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:26.547738+00:00", "timestamp": 1765063766.547738}}}
{"text": "2025-12-06T23:29:26.551618+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.348621", "seconds": 1.348621}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473383952416, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:26.551618+00:00", "timestamp": 1765063766.551618}}}
{"text": "2025-12-06T23:29:27.215044+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.012047", "seconds": 2.012047}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473383952416, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:27.215044+00:00", "timestamp": 1765063767.215044}}}
{"text": "2025-12-06T23:29:27.361620+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.158623", "seconds": 2.158623}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473383952416, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:27.361620+00:00", "timestamp": 1765063767.36162}}}
{"text": "2025-12-06T23:29:27.361882+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.158885", "seconds": 2.158885}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473383952416, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:27.361882+00:00", "timestamp": 1765063767.361882}}}
{"text": "2025-12-06T23:29:27.389044+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.186047", "seconds": 2.186047}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473383952416, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:27.389044+00:00", "timestamp": 1765063767.389044}}}
{"text": "2025-12-06T23:29:27.389252+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.186255", "seconds": 2.186255}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473383952416, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:27.389252+00:00", "timestamp": 1765063767.389252}}}
{"text": "2025-12-06T23:29:27.420128+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.217131", "seconds": 2.217131}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473383952416, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:27.420128+00:00", "timestamp": 1765063767.420128}}}
{"text": "2025-12-06T23:29:27.424778+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.221781", "seconds": 2.221781}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473383952416, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:27.424778+00:00", "timestamp": 1765063767.424778}}}
{"text": "2025-12-06T23:29:57.653951+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bc57d469c61197273b83, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.450954", "seconds": 32.450954}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bc57d469c61197273b83, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473383952416, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:57.653951+00:00", "timestamp": 1765063797.653951}}}
{"text": "2025-12-06T23:29:57.657154+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.454157", "seconds": 32.454157}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473383952416, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:57.657154+00:00", "timestamp": 1765063797.657154}}}
{"text": "2025-12-06T23:29:57.657811+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.454814", "seconds": 32.454814}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473383952416, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:57.657811+00:00", "timestamp": 1765063797.657811}}}
{"text": "2025-12-06T23:29:57.911746+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:32.708749", "seconds": 32.708749}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473383952416, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:57.911746+00:00", "timestamp": 1765063797.911746}}}
{"text": "2025-12-06T23:29:57.945298+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.742301", "seconds": 32.742301}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473383952416, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:57.945298+00:00", "timestamp": 1765063797.945298}}}
{"text": "2025-12-06T23:29:57.945621+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.742624", "seconds": 32.742624}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473383952416, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:57.945621+00:00", "timestamp": 1765063797.945621}}}
{"text": "2025-12-06T23:29:58.101401+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.898404", "seconds": 32.898404}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473383952416, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:58.101401+00:00", "timestamp": 1765063798.101401}}}
{"text": "2025-12-06T23:29:59.172626+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.199831", "seconds": 0.199831}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473520881696, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:59.172626+00:00", "timestamp": 1765063799.172626}}}
{"text": "2025-12-06T23:29:59.172965+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.200170", "seconds": 0.20017}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473520881696, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:29:59.172965+00:00", "timestamp": 1765063799.172965}}}
{"text": "2025-12-06T23:30:00.187847+0000 INFO MAIN Infisical authentication completed in 1.015s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.215052", "seconds": 1.215052}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 1.015s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473520881696, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:00.187847+00:00", "timestamp": 1765063800.187847}}}
{"text": "2025-12-06T23:30:00.526814+0000 INFO MAIN Infisical secrets fetched in 0.338s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.554019", "seconds": 1.554019}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.338s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473520881696, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:00.526814+00:00", "timestamp": 1765063800.526814}}}
{"text": "2025-12-06T23:30:00.527152+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.554357", "seconds": 1.554357}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473520881696, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:00.527152+00:00", "timestamp": 1765063800.527152}}}
{"text": "2025-12-06T23:30:00.527357+0000 INFO MAIN Infisical secrets loaded in 1.354s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.554562", "seconds": 1.554562}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.354s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473520881696, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:00.527357+00:00", "timestamp": 1765063800.527357}}}
{"text": "2025-12-06T23:30:00.528675+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.555880", "seconds": 1.55588}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473520881696, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:00.528675+00:00", "timestamp": 1765063800.528675}}}
{"text": "2025-12-06T23:30:01.168108+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.195313", "seconds": 2.195313}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473520881696, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:01.168108+00:00", "timestamp": 1765063801.168108}}}
{"text": "2025-12-06T23:30:01.311816+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.339021", "seconds": 2.339021}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473520881696, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:01.311816+00:00", "timestamp": 1765063801.311816}}}
{"text": "2025-12-06T23:30:01.312152+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.339357", "seconds": 2.339357}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473520881696, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:01.312152+00:00", "timestamp": 1765063801.312152}}}
{"text": "2025-12-06T23:30:01.338707+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.365912", "seconds": 2.365912}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473520881696, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:01.338707+00:00", "timestamp": 1765063801.338707}}}
{"text": "2025-12-06T23:30:01.340121+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.367326", "seconds": 2.367326}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473520881696, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:01.340121+00:00", "timestamp": 1765063801.340121}}}
{"text": "2025-12-06T23:30:01.373502+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.400707", "seconds": 2.400707}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473520881696, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:01.373502+00:00", "timestamp": 1765063801.373502}}}
{"text": "2025-12-06T23:30:01.376221+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.403426", "seconds": 2.403426}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473520881696, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:01.376221+00:00", "timestamp": 1765063801.376221}}}
{"text": "2025-12-06T23:30:31.671442+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bc796906959f96091d2e, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.698647", "seconds": 32.698647}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bc796906959f96091d2e, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473520881696, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:31.671442+00:00", "timestamp": 1765063831.671442}}}
{"text": "2025-12-06T23:30:31.679661+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.706866", "seconds": 32.706866}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473520881696, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:31.679661+00:00", "timestamp": 1765063831.679661}}}
{"text": "2025-12-06T23:30:31.680376+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.707581", "seconds": 32.707581}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473520881696, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:31.680376+00:00", "timestamp": 1765063831.680376}}}
{"text": "2025-12-06T23:30:32.021712+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:33.048917", "seconds": 33.048917}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473520881696, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:32.021712+00:00", "timestamp": 1765063832.021712}}}
{"text": "2025-12-06T23:30:32.057790+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.084995", "seconds": 33.084995}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473520881696, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:32.057790+00:00", "timestamp": 1765063832.05779}}}
{"text": "2025-12-06T23:30:32.058187+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.085392", "seconds": 33.085392}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473520881696, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:32.058187+00:00", "timestamp": 1765063832.058187}}}
{"text": "2025-12-06T23:30:32.224150+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.251355", "seconds": 33.251355}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473520881696, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:32.224150+00:00", "timestamp": 1765063832.22415}}}
{"text": "2025-12-06T23:30:33.369753+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.201423", "seconds": 0.201423}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473273995296, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:33.369753+00:00", "timestamp": 1765063833.369753}}}
{"text": "2025-12-06T23:30:33.370051+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.201721", "seconds": 0.201721}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473273995296, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:33.370051+00:00", "timestamp": 1765063833.370051}}}
{"text": "2025-12-06T23:30:34.228818+0000 INFO MAIN Infisical authentication completed in 0.859s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.060488", "seconds": 1.060488}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 0.859s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473273995296, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:34.228818+00:00", "timestamp": 1765063834.228818}}}
{"text": "2025-12-06T23:30:34.519778+0000 INFO MAIN Infisical secrets fetched in 0.290s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.351448", "seconds": 1.351448}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.290s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473273995296, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:34.519778+00:00", "timestamp": 1765063834.519778}}}
{"text": "2025-12-06T23:30:34.520448+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.352118", "seconds": 1.352118}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473273995296, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:34.520448+00:00", "timestamp": 1765063834.520448}}}
{"text": "2025-12-06T23:30:34.520890+0000 INFO MAIN Infisical secrets loaded in 1.151s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.352560", "seconds": 1.35256}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.151s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473273995296, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:34.520890+00:00", "timestamp": 1765063834.52089}}}
{"text": "2025-12-06T23:30:34.524100+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.355770", "seconds": 1.35577}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473273995296, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:34.524100+00:00", "timestamp": 1765063834.5241}}}
{"text": "2025-12-06T23:30:35.259978+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.091648", "seconds": 2.091648}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473273995296, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:35.259978+00:00", "timestamp": 1765063835.259978}}}
{"text": "2025-12-06T23:30:35.434410+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.266080", "seconds": 2.26608}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473273995296, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:35.434410+00:00", "timestamp": 1765063835.43441}}}
{"text": "2025-12-06T23:30:35.434701+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.266371", "seconds": 2.266371}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473273995296, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:35.434701+00:00", "timestamp": 1765063835.434701}}}
{"text": "2025-12-06T23:30:35.479645+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.311315", "seconds": 2.311315}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473273995296, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:35.479645+00:00", "timestamp": 1765063835.479645}}}
{"text": "2025-12-06T23:30:35.480070+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.311740", "seconds": 2.31174}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473273995296, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:35.480070+00:00", "timestamp": 1765063835.48007}}}
{"text": "2025-12-06T23:30:35.518006+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.349676", "seconds": 2.349676}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473273995296, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:35.518006+00:00", "timestamp": 1765063835.518006}}}
{"text": "2025-12-06T23:30:35.523897+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.355567", "seconds": 2.355567}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473273995296, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:30:35.523897+00:00", "timestamp": 1765063835.523897}}}
{"text": "2025-12-06T23:31:05.797133+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bc9ba596526a5e489943, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.628803", "seconds": 32.628803}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bc9ba596526a5e489943, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473273995296, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:05.797133+00:00", "timestamp": 1765063865.797133}}}
{"text": "2025-12-06T23:31:05.803398+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.635068", "seconds": 32.635068}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473273995296, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:05.803398+00:00", "timestamp": 1765063865.803398}}}
{"text": "2025-12-06T23:31:05.804257+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.635927", "seconds": 32.635927}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473273995296, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:05.804257+00:00", "timestamp": 1765063865.804257}}}
{"text": "2025-12-06T23:31:06.128193+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:32.959863", "seconds": 32.959863}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473273995296, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:06.128193+00:00", "timestamp": 1765063866.128193}}}
{"text": "2025-12-06T23:31:06.168694+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.000364", "seconds": 33.000364}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473273995296, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:06.168694+00:00", "timestamp": 1765063866.168694}}}
{"text": "2025-12-06T23:31:06.169258+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.000928", "seconds": 33.000928}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473273995296, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:06.169258+00:00", "timestamp": 1765063866.169258}}}
{"text": "2025-12-06T23:31:06.343164+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.174834", "seconds": 33.174834}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473273995296, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:06.343164+00:00", "timestamp": 1765063866.343164}}}
{"text": "2025-12-06T23:31:07.368010+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.212955", "seconds": 0.212955}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473108709408, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:07.368010+00:00", "timestamp": 1765063867.36801}}}
{"text": "2025-12-06T23:31:07.368680+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.213625", "seconds": 0.213625}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473108709408, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:07.368680+00:00", "timestamp": 1765063867.36868}}}
{"text": "2025-12-06T23:31:08.293272+0000 INFO MAIN Infisical authentication completed in 0.925s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.138217", "seconds": 1.138217}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 0.925s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473108709408, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:08.293272+00:00", "timestamp": 1765063868.293272}}}
{"text": "2025-12-06T23:31:08.571359+0000 INFO MAIN Infisical secrets fetched in 0.276s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.416304", "seconds": 1.416304}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.276s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473108709408, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:08.571359+00:00", "timestamp": 1765063868.571359}}}
{"text": "2025-12-06T23:31:08.572631+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.417576", "seconds": 1.417576}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473108709408, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:08.572631+00:00", "timestamp": 1765063868.572631}}}
{"text": "2025-12-06T23:31:08.573254+0000 INFO MAIN Infisical secrets loaded in 1.205s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.418199", "seconds": 1.418199}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.205s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473108709408, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:08.573254+00:00", "timestamp": 1765063868.573254}}}
{"text": "2025-12-06T23:31:08.576524+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.421469", "seconds": 1.421469}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473108709408, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:08.576524+00:00", "timestamp": 1765063868.576524}}}
{"text": "2025-12-06T23:31:09.297375+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.142320", "seconds": 2.14232}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473108709408, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:09.297375+00:00", "timestamp": 1765063869.297375}}}
{"text": "2025-12-06T23:31:09.439977+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.284922", "seconds": 2.284922}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473108709408, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:09.439977+00:00", "timestamp": 1765063869.439977}}}
{"text": "2025-12-06T23:31:09.440358+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.285303", "seconds": 2.285303}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473108709408, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:09.440358+00:00", "timestamp": 1765063869.440358}}}
{"text": "2025-12-06T23:31:09.468345+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.313290", "seconds": 2.31329}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473108709408, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:09.468345+00:00", "timestamp": 1765063869.468345}}}
{"text": "2025-12-06T23:31:09.468682+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.313627", "seconds": 2.313627}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473108709408, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:09.468682+00:00", "timestamp": 1765063869.468682}}}
{"text": "2025-12-06T23:31:09.511698+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.356643", "seconds": 2.356643}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473108709408, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:09.511698+00:00", "timestamp": 1765063869.511698}}}
{"text": "2025-12-06T23:31:09.518303+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.363248", "seconds": 2.363248}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473108709408, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:09.518303+00:00", "timestamp": 1765063869.518303}}}
{"text": "2025-12-06T23:31:39.745127+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bcbd8382a625d0aa3af8, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.590072", "seconds": 32.590072}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bcbd8382a625d0aa3af8, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473108709408, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:39.745127+00:00", "timestamp": 1765063899.745127}}}
{"text": "2025-12-06T23:31:39.755389+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.600334", "seconds": 32.600334}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473108709408, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:39.755389+00:00", "timestamp": 1765063899.755389}}}
{"text": "2025-12-06T23:31:39.756446+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.601391", "seconds": 32.601391}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473108709408, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:39.756446+00:00", "timestamp": 1765063899.756446}}}
{"text": "2025-12-06T23:31:40.137718+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:32.982663", "seconds": 32.982663}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473108709408, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:40.137718+00:00", "timestamp": 1765063900.137718}}}
{"text": "2025-12-06T23:31:40.179780+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.024725", "seconds": 33.024725}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473108709408, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:40.179780+00:00", "timestamp": 1765063900.17978}}}
{"text": "2025-12-06T23:31:40.180197+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.025142", "seconds": 33.025142}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473108709408, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:40.180197+00:00", "timestamp": 1765063900.180197}}}
{"text": "2025-12-06T23:31:40.550284+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.395229", "seconds": 33.395229}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473108709408, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:40.550284+00:00", "timestamp": 1765063900.550284}}}
{"text": "2025-12-06T23:31:42.141686+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.240701", "seconds": 0.240701}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473743474720, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:42.141686+00:00", "timestamp": 1765063902.141686}}}
{"text": "2025-12-06T23:31:42.142021+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.241036", "seconds": 0.241036}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473743474720, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:42.142021+00:00", "timestamp": 1765063902.142021}}}
{"text": "2025-12-06T23:31:42.933240+0000 INFO MAIN Infisical authentication completed in 0.791s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.032255", "seconds": 1.032255}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 0.791s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473743474720, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:42.933240+00:00", "timestamp": 1765063902.93324}}}
{"text": "2025-12-06T23:31:43.195164+0000 INFO MAIN Infisical secrets fetched in 0.261s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.294179", "seconds": 1.294179}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.261s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473743474720, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:43.195164+00:00", "timestamp": 1765063903.195164}}}
{"text": "2025-12-06T23:31:43.197028+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.296043", "seconds": 1.296043}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473743474720, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:43.197028+00:00", "timestamp": 1765063903.197028}}}
{"text": "2025-12-06T23:31:43.197507+0000 INFO MAIN Infisical secrets loaded in 1.055s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.296522", "seconds": 1.296522}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.055s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473743474720, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:43.197507+00:00", "timestamp": 1765063903.197507}}}
{"text": "2025-12-06T23:31:43.203997+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.303012", "seconds": 1.303012}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473743474720, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:43.203997+00:00", "timestamp": 1765063903.203997}}}
{"text": "2025-12-06T23:31:44.137228+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.236243", "seconds": 2.236243}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473743474720, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:44.137228+00:00", "timestamp": 1765063904.137228}}}
{"text": "2025-12-06T23:31:44.297603+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.396618", "seconds": 2.396618}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473743474720, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:44.297603+00:00", "timestamp": 1765063904.297603}}}
{"text": "2025-12-06T23:31:44.298087+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.397102", "seconds": 2.397102}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473743474720, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:44.298087+00:00", "timestamp": 1765063904.298087}}}
{"text": "2025-12-06T23:31:44.329953+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.428968", "seconds": 2.428968}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473743474720, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:44.329953+00:00", "timestamp": 1765063904.329953}}}
{"text": "2025-12-06T23:31:44.330531+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.429546", "seconds": 2.429546}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473743474720, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:44.330531+00:00", "timestamp": 1765063904.330531}}}
{"text": "2025-12-06T23:31:44.367962+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.466977", "seconds": 2.466977}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473743474720, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:44.367962+00:00", "timestamp": 1765063904.367962}}}
{"text": "2025-12-06T23:31:44.373067+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.472082", "seconds": 2.472082}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473743474720, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:31:44.373067+00:00", "timestamp": 1765063904.373067}}}
{"text": "2025-12-06T23:32:14.692809+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bce0c649f8ae63923328, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.791824", "seconds": 32.791824}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bce0c649f8ae63923328, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473743474720, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:14.692809+00:00", "timestamp": 1765063934.692809}}}
{"text": "2025-12-06T23:32:14.699655+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.798670", "seconds": 32.79867}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473743474720, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:14.699655+00:00", "timestamp": 1765063934.699655}}}
{"text": "2025-12-06T23:32:14.700455+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.799470", "seconds": 32.79947}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473743474720, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:14.700455+00:00", "timestamp": 1765063934.700455}}}
{"text": "2025-12-06T23:32:15.070453+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:33.169468", "seconds": 33.169468}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473743474720, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:15.070453+00:00", "timestamp": 1765063935.070453}}}
{"text": "2025-12-06T23:32:15.121294+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.220309", "seconds": 33.220309}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473743474720, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:15.121294+00:00", "timestamp": 1765063935.121294}}}
{"text": "2025-12-06T23:32:15.121918+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.220933", "seconds": 33.220933}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473743474720, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:15.121918+00:00", "timestamp": 1765063935.121918}}}
{"text": "2025-12-06T23:32:15.309905+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.408920", "seconds": 33.40892}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473743474720, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:15.309905+00:00", "timestamp": 1765063935.309905}}}
{"text": "2025-12-06T23:32:17.119824+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.248073", "seconds": 0.248073}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473776042016, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:17.119824+00:00", "timestamp": 1765063937.119824}}}
{"text": "2025-12-06T23:32:17.120173+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.248422", "seconds": 0.248422}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473776042016, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:17.120173+00:00", "timestamp": 1765063937.120173}}}
{"text": "2025-12-06T23:32:17.959806+0000 INFO MAIN Infisical authentication completed in 0.840s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.088055", "seconds": 1.088055}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 0.840s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473776042016, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:17.959806+00:00", "timestamp": 1765063937.959806}}}
{"text": "2025-12-06T23:32:18.742117+0000 INFO MAIN Infisical secrets fetched in 0.782s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.870366", "seconds": 1.870366}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.782s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473776042016, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:18.742117+00:00", "timestamp": 1765063938.742117}}}
{"text": "2025-12-06T23:32:18.745028+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.873277", "seconds": 1.873277}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473776042016, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:18.745028+00:00", "timestamp": 1765063938.745028}}}
{"text": "2025-12-06T23:32:18.745519+0000 INFO MAIN Infisical secrets loaded in 1.625s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.873768", "seconds": 1.873768}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.625s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473776042016, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:18.745519+00:00", "timestamp": 1765063938.745519}}}
{"text": "2025-12-06T23:32:18.749306+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.877555", "seconds": 1.877555}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473776042016, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:18.749306+00:00", "timestamp": 1765063938.749306}}}
{"text": "2025-12-06T23:32:19.624788+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.753037", "seconds": 2.753037}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473776042016, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:19.624788+00:00", "timestamp": 1765063939.624788}}}
{"text": "2025-12-06T23:32:19.778932+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.907181", "seconds": 2.907181}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473776042016, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:19.778932+00:00", "timestamp": 1765063939.778932}}}
{"text": "2025-12-06T23:32:19.779211+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.907460", "seconds": 2.90746}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473776042016, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:19.779211+00:00", "timestamp": 1765063939.779211}}}
{"text": "2025-12-06T23:32:19.808179+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.936428", "seconds": 2.936428}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473776042016, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:19.808179+00:00", "timestamp": 1765063939.808179}}}
{"text": "2025-12-06T23:32:19.808446+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.936695", "seconds": 2.936695}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473776042016, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:19.808446+00:00", "timestamp": 1765063939.808446}}}
{"text": "2025-12-06T23:32:19.853934+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.982183", "seconds": 2.982183}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473776042016, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:19.853934+00:00", "timestamp": 1765063939.853934}}}
{"text": "2025-12-06T23:32:19.858921+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.987170", "seconds": 2.98717}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473776042016, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:19.858921+00:00", "timestamp": 1765063939.858921}}}
{"text": "2025-12-06T23:32:50.104838+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bd03744c62b13a338abf, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:33.233087", "seconds": 33.233087}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bd03744c62b13a338abf, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473776042016, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:50.104838+00:00", "timestamp": 1765063970.104838}}}
{"text": "2025-12-06T23:32:50.115612+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:33.243861", "seconds": 33.243861}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473776042016, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:50.115612+00:00", "timestamp": 1765063970.115612}}}
{"text": "2025-12-06T23:32:50.116436+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.244685", "seconds": 33.244685}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473776042016, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:50.116436+00:00", "timestamp": 1765063970.116436}}}
{"text": "2025-12-06T23:32:50.429020+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:33.557269", "seconds": 33.557269}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473776042016, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:50.429020+00:00", "timestamp": 1765063970.42902}}}
{"text": "2025-12-06T23:32:50.465433+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.593682", "seconds": 33.593682}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473776042016, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:50.465433+00:00", "timestamp": 1765063970.465433}}}
{"text": "2025-12-06T23:32:50.465802+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.594051", "seconds": 33.594051}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473776042016, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:50.465802+00:00", "timestamp": 1765063970.465802}}}
{"text": "2025-12-06T23:32:50.630289+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.758538", "seconds": 33.758538}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473776042016, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:50.630289+00:00", "timestamp": 1765063970.630289}}}
{"text": "2025-12-06T23:32:52.156532+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.210360", "seconds": 0.21036}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473571758112, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:52.156532+00:00", "timestamp": 1765063972.156532}}}
{"text": "2025-12-06T23:32:52.156823+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.210651", "seconds": 0.210651}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473571758112, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:52.156823+00:00", "timestamp": 1765063972.156823}}}
{"text": "2025-12-06T23:32:52.961804+0000 INFO MAIN Infisical authentication completed in 0.805s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.015632", "seconds": 1.015632}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 0.805s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473571758112, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:52.961804+00:00", "timestamp": 1765063972.961804}}}
{"text": "2025-12-06T23:32:53.222101+0000 INFO MAIN Infisical secrets fetched in 0.260s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.275929", "seconds": 1.275929}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.260s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473571758112, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:53.222101+00:00", "timestamp": 1765063973.222101}}}
{"text": "2025-12-06T23:32:53.223140+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.276968", "seconds": 1.276968}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473571758112, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:53.223140+00:00", "timestamp": 1765063973.22314}}}
{"text": "2025-12-06T23:32:53.223853+0000 INFO MAIN Infisical secrets loaded in 1.067s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.277681", "seconds": 1.277681}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.067s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473571758112, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:53.223853+00:00", "timestamp": 1765063973.223853}}}
{"text": "2025-12-06T23:32:53.229185+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.283013", "seconds": 1.283013}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473571758112, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:53.229185+00:00", "timestamp": 1765063973.229185}}}
{"text": "2025-12-06T23:32:53.931673+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:01.985501", "seconds": 1.985501}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473571758112, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:53.931673+00:00", "timestamp": 1765063973.931673}}}
{"text": "2025-12-06T23:32:54.078049+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.131877", "seconds": 2.131877}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473571758112, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:54.078049+00:00", "timestamp": 1765063974.078049}}}
{"text": "2025-12-06T23:32:54.078322+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.132150", "seconds": 2.13215}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473571758112, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:54.078322+00:00", "timestamp": 1765063974.078322}}}
{"text": "2025-12-06T23:32:54.105147+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.158975", "seconds": 2.158975}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473571758112, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:54.105147+00:00", "timestamp": 1765063974.105147}}}
{"text": "2025-12-06T23:32:54.105454+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.159282", "seconds": 2.159282}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473571758112, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:54.105454+00:00", "timestamp": 1765063974.105454}}}
{"text": "2025-12-06T23:32:54.132300+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.186128", "seconds": 2.186128}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473571758112, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:54.132300+00:00", "timestamp": 1765063974.1323}}}
{"text": "2025-12-06T23:32:54.135077+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.188905", "seconds": 2.188905}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473571758112, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:32:54.135077+00:00", "timestamp": 1765063974.135077}}}
{"text": "2025-12-06T23:33:24.398938+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bd26b2260ec971726e9b, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.452766", "seconds": 32.452766}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bd26b2260ec971726e9b, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473571758112, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:24.398938+00:00", "timestamp": 1765064004.398938}}}
{"text": "2025-12-06T23:33:24.405588+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.459416", "seconds": 32.459416}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473571758112, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:24.405588+00:00", "timestamp": 1765064004.405588}}}
{"text": "2025-12-06T23:33:24.407159+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.460987", "seconds": 32.460987}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473571758112, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:24.407159+00:00", "timestamp": 1765064004.407159}}}
{"text": "2025-12-06T23:33:24.755442+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:32.809270", "seconds": 32.80927}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473571758112, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:24.755442+00:00", "timestamp": 1765064004.755442}}}
{"text": "2025-12-06T23:33:24.796318+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.850146", "seconds": 32.850146}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473571758112, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:24.796318+00:00", "timestamp": 1765064004.796318}}}
{"text": "2025-12-06T23:33:24.796771+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.850599", "seconds": 32.850599}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473571758112, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:24.796771+00:00", "timestamp": 1765064004.796771}}}
{"text": "2025-12-06T23:33:24.980697+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.034525", "seconds": 33.034525}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473571758112, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:24.980697+00:00", "timestamp": 1765064004.980697}}}
{"text": "2025-12-06T23:33:26.325845+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.230453", "seconds": 0.230453}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473144877088, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:26.325845+00:00", "timestamp": 1765064006.325845}}}
{"text": "2025-12-06T23:33:26.326131+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.230739", "seconds": 0.230739}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473144877088, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:26.326131+00:00", "timestamp": 1765064006.326131}}}
{"text": "2025-12-06T23:33:27.177597+0000 INFO MAIN Infisical authentication completed in 0.851s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.082205", "seconds": 1.082205}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 0.851s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473144877088, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:27.177597+00:00", "timestamp": 1765064007.177597}}}
{"text": "2025-12-06T23:33:27.441073+0000 INFO MAIN Infisical secrets fetched in 0.263s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.345681", "seconds": 1.345681}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.263s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473144877088, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:27.441073+00:00", "timestamp": 1765064007.441073}}}
{"text": "2025-12-06T23:33:27.442908+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.347516", "seconds": 1.347516}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473144877088, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:27.442908+00:00", "timestamp": 1765064007.442908}}}
{"text": "2025-12-06T23:33:27.446363+0000 INFO MAIN Infisical secrets loaded in 1.120s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.350971", "seconds": 1.350971}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.120s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473144877088, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:27.446363+00:00", "timestamp": 1765064007.446363}}}
{"text": "2025-12-06T23:33:27.452972+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.357580", "seconds": 1.35758}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473144877088, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:27.452972+00:00", "timestamp": 1765064007.452972}}}
{"text": "2025-12-06T23:33:28.232602+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.137210", "seconds": 2.13721}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473144877088, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:28.232602+00:00", "timestamp": 1765064008.232602}}}
{"text": "2025-12-06T23:33:28.380188+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.284796", "seconds": 2.284796}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473144877088, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:28.380188+00:00", "timestamp": 1765064008.380188}}}
{"text": "2025-12-06T23:33:28.380457+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.285065", "seconds": 2.285065}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473144877088, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:28.380457+00:00", "timestamp": 1765064008.380457}}}
{"text": "2025-12-06T23:33:28.411683+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.316291", "seconds": 2.316291}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473144877088, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:28.411683+00:00", "timestamp": 1765064008.411683}}}
{"text": "2025-12-06T23:33:28.411918+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.316526", "seconds": 2.316526}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473144877088, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:28.411918+00:00", "timestamp": 1765064008.411918}}}
{"text": "2025-12-06T23:33:28.443433+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.348041", "seconds": 2.348041}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473144877088, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:28.443433+00:00", "timestamp": 1765064008.443433}}}
{"text": "2025-12-06T23:33:28.448822+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.353430", "seconds": 2.35343}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473144877088, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:28.448822+00:00", "timestamp": 1765064008.448822}}}
{"text": "2025-12-06T23:33:58.696187+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bd48cfc9899f488fbf1d, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.600795", "seconds": 32.600795}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bd48cfc9899f488fbf1d, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473144877088, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:58.696187+00:00", "timestamp": 1765064038.696187}}}
{"text": "2025-12-06T23:33:58.703725+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.608333", "seconds": 32.608333}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473144877088, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:58.703725+00:00", "timestamp": 1765064038.703725}}}
{"text": "2025-12-06T23:33:58.704341+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.608949", "seconds": 32.608949}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473144877088, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:58.704341+00:00", "timestamp": 1765064038.704341}}}
{"text": "2025-12-06T23:33:58.993597+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:32.898205", "seconds": 32.898205}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473144877088, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:58.993597+00:00", "timestamp": 1765064038.993597}}}
{"text": "2025-12-06T23:33:59.033417+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.938025", "seconds": 32.938025}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473144877088, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:59.033417+00:00", "timestamp": 1765064039.033417}}}
{"text": "2025-12-06T23:33:59.033970+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.938578", "seconds": 32.938578}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473144877088, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:59.033970+00:00", "timestamp": 1765064039.03397}}}
{"text": "2025-12-06T23:33:59.219318+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.123926", "seconds": 33.123926}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473144877088, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:33:59.219318+00:00", "timestamp": 1765064039.219318}}}
{"text": "2025-12-06T23:34:00.514819+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.220860", "seconds": 0.22086}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472956325920, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:00.514819+00:00", "timestamp": 1765064040.514819}}}
{"text": "2025-12-06T23:34:00.515645+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.221686", "seconds": 0.221686}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472956325920, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:00.515645+00:00", "timestamp": 1765064040.515645}}}
{"text": "2025-12-06T23:34:01.948379+0000 INFO MAIN Infisical authentication completed in 1.433s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.654420", "seconds": 1.65442}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 1.433s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472956325920, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:01.948379+00:00", "timestamp": 1765064041.948379}}}
{"text": "2025-12-06T23:34:02.931731+0000 INFO MAIN Infisical secrets fetched in 0.982s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.637772", "seconds": 2.637772}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.982s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472956325920, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:02.931731+00:00", "timestamp": 1765064042.931731}}}
{"text": "2025-12-06T23:34:02.932690+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.638731", "seconds": 2.638731}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472956325920, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:02.932690+00:00", "timestamp": 1765064042.93269}}}
{"text": "2025-12-06T23:34:02.933804+0000 INFO MAIN Infisical secrets loaded in 2.418s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.639845", "seconds": 2.639845}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 2.418s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472956325920, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:02.933804+00:00", "timestamp": 1765064042.933804}}}
{"text": "2025-12-06T23:34:02.939304+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.645345", "seconds": 2.645345}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472956325920, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:02.939304+00:00", "timestamp": 1765064042.939304}}}
{"text": "2025-12-06T23:34:03.705968+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:03.412009", "seconds": 3.412009}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472956325920, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:03.705968+00:00", "timestamp": 1765064043.705968}}}
{"text": "2025-12-06T23:34:03.864062+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:03.570103", "seconds": 3.570103}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472956325920, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:03.864062+00:00", "timestamp": 1765064043.864062}}}
{"text": "2025-12-06T23:34:03.864327+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:03.570368", "seconds": 3.570368}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472956325920, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:03.864327+00:00", "timestamp": 1765064043.864327}}}
{"text": "2025-12-06T23:34:03.895729+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:03.601770", "seconds": 3.60177}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472956325920, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:03.895729+00:00", "timestamp": 1765064043.895729}}}
{"text": "2025-12-06T23:34:03.896027+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:03.602068", "seconds": 3.602068}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472956325920, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:03.896027+00:00", "timestamp": 1765064043.896027}}}
{"text": "2025-12-06T23:34:03.936049+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:03.642090", "seconds": 3.64209}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472956325920, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:03.936049+00:00", "timestamp": 1765064043.936049}}}
{"text": "2025-12-06T23:34:03.942617+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:03.648658", "seconds": 3.648658}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472956325920, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:03.942617+00:00", "timestamp": 1765064043.942617}}}
{"text": "2025-12-06T23:34:34.223318+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bd6b8866dfc826ca4b51, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:33.929359", "seconds": 33.929359}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bd6b8866dfc826ca4b51, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472956325920, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:34.223318+00:00", "timestamp": 1765064074.223318}}}
{"text": "2025-12-06T23:34:34.232233+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:33.938274", "seconds": 33.938274}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472956325920, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:34.232233+00:00", "timestamp": 1765064074.232233}}}
{"text": "2025-12-06T23:34:34.233338+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.939379", "seconds": 33.939379}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472956325920, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:34.233338+00:00", "timestamp": 1765064074.233338}}}
{"text": "2025-12-06T23:34:34.597708+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:34.303749", "seconds": 34.303749}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472956325920, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:34.597708+00:00", "timestamp": 1765064074.597708}}}
{"text": "2025-12-06T23:34:34.638537+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:34.344578", "seconds": 34.344578}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472956325920, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:34.638537+00:00", "timestamp": 1765064074.638537}}}
{"text": "2025-12-06T23:34:34.638852+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:34.344893", "seconds": 34.344893}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472956325920, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:34.638852+00:00", "timestamp": 1765064074.638852}}}
{"text": "2025-12-06T23:34:34.845921+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:34.551962", "seconds": 34.551962}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472956325920, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:34.845921+00:00", "timestamp": 1765064074.845921}}}
{"text": "2025-12-06T23:34:36.160235+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.225105", "seconds": 0.225105}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472979406880, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:36.160235+00:00", "timestamp": 1765064076.160235}}}
{"text": "2025-12-06T23:34:36.160630+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.225500", "seconds": 0.2255}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472979406880, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:36.160630+00:00", "timestamp": 1765064076.16063}}}
{"text": "2025-12-06T23:34:38.114092+0000 INFO MAIN Infisical authentication completed in 1.953s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.178962", "seconds": 2.178962}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 1.953s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472979406880, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:38.114092+00:00", "timestamp": 1765064078.114092}}}
{"text": "2025-12-06T23:34:38.463672+0000 INFO MAIN Infisical secrets fetched in 0.349s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.528542", "seconds": 2.528542}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.349s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472979406880, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:38.463672+00:00", "timestamp": 1765064078.463672}}}
{"text": "2025-12-06T23:34:38.465100+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.529970", "seconds": 2.52997}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472979406880, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:38.465100+00:00", "timestamp": 1765064078.4651}}}
{"text": "2025-12-06T23:34:38.466331+0000 INFO MAIN Infisical secrets loaded in 2.306s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.531201", "seconds": 2.531201}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 2.306s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472979406880, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:38.466331+00:00", "timestamp": 1765064078.466331}}}
{"text": "2025-12-06T23:34:38.472228+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.537098", "seconds": 2.537098}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472979406880, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:38.472228+00:00", "timestamp": 1765064078.472228}}}
{"text": "2025-12-06T23:34:39.276162+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:03.341032", "seconds": 3.341032}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472979406880, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:39.276162+00:00", "timestamp": 1765064079.276162}}}
{"text": "2025-12-06T23:34:39.427090+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:03.491960", "seconds": 3.49196}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472979406880, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:39.427090+00:00", "timestamp": 1765064079.42709}}}
{"text": "2025-12-06T23:34:39.427330+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:03.492200", "seconds": 3.4922}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472979406880, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:39.427330+00:00", "timestamp": 1765064079.42733}}}
{"text": "2025-12-06T23:34:39.459588+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:03.524458", "seconds": 3.524458}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472979406880, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:39.459588+00:00", "timestamp": 1765064079.459588}}}
{"text": "2025-12-06T23:34:39.459826+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:03.524696", "seconds": 3.524696}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472979406880, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:39.459826+00:00", "timestamp": 1765064079.459826}}}
{"text": "2025-12-06T23:34:39.495541+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:03.560411", "seconds": 3.560411}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472979406880, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:39.495541+00:00", "timestamp": 1765064079.495541}}}
{"text": "2025-12-06T23:34:39.501972+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:03.566842", "seconds": 3.566842}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472979406880, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:34:39.501972+00:00", "timestamp": 1765064079.501972}}}
{"text": "2025-12-06T23:35:09.798857+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bd8f587e186044f0602f, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:33.863727", "seconds": 33.863727}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bd8f587e186044f0602f, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472979406880, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:09.798857+00:00", "timestamp": 1765064109.798857}}}
{"text": "2025-12-06T23:35:09.805798+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:33.870668", "seconds": 33.870668}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472979406880, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:09.805798+00:00", "timestamp": 1765064109.805798}}}
{"text": "2025-12-06T23:35:09.806978+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.871848", "seconds": 33.871848}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472979406880, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:09.806978+00:00", "timestamp": 1765064109.806978}}}
{"text": "2025-12-06T23:35:10.157919+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:34.222789", "seconds": 34.222789}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472979406880, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:10.157919+00:00", "timestamp": 1765064110.157919}}}
{"text": "2025-12-06T23:35:10.195831+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:34.260701", "seconds": 34.260701}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472979406880, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:10.195831+00:00", "timestamp": 1765064110.195831}}}
{"text": "2025-12-06T23:35:10.196367+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:34.261237", "seconds": 34.261237}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472979406880, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:10.196367+00:00", "timestamp": 1765064110.196367}}}
{"text": "2025-12-06T23:35:10.382535+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:34.447405", "seconds": 34.447405}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281472979406880, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:10.382535+00:00", "timestamp": 1765064110.382535}}}
{"text": "2025-12-06T23:35:11.646540+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.209922", "seconds": 0.209922}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473891991584, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:11.646540+00:00", "timestamp": 1765064111.64654}}}
{"text": "2025-12-06T23:35:11.647014+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.210396", "seconds": 0.210396}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473891991584, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:11.647014+00:00", "timestamp": 1765064111.647014}}}
{"text": "2025-12-06T23:35:12.446394+0000 INFO MAIN Infisical authentication completed in 0.799s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.009776", "seconds": 1.009776}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 0.799s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473891991584, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:12.446394+00:00", "timestamp": 1765064112.446394}}}
{"text": "2025-12-06T23:35:12.826018+0000 INFO MAIN Infisical secrets fetched in 0.379s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.389400", "seconds": 1.3894}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.379s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473891991584, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:12.826018+00:00", "timestamp": 1765064112.826018}}}
{"text": "2025-12-06T23:35:12.826928+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.390310", "seconds": 1.39031}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473891991584, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:12.826928+00:00", "timestamp": 1765064112.826928}}}
{"text": "2025-12-06T23:35:12.827187+0000 INFO MAIN Infisical secrets loaded in 1.180s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.390569", "seconds": 1.390569}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.180s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473891991584, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:12.827187+00:00", "timestamp": 1765064112.827187}}}
{"text": "2025-12-06T23:35:12.828410+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.391792", "seconds": 1.391792}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473891991584, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:12.828410+00:00", "timestamp": 1765064112.82841}}}
{"text": "2025-12-06T23:35:13.525514+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.088896", "seconds": 2.088896}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473891991584, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:13.525514+00:00", "timestamp": 1765064113.525514}}}
{"text": "2025-12-06T23:35:13.676825+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.240207", "seconds": 2.240207}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473891991584, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:13.676825+00:00", "timestamp": 1765064113.676825}}}
{"text": "2025-12-06T23:35:13.677084+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.240466", "seconds": 2.240466}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473891991584, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:13.677084+00:00", "timestamp": 1765064113.677084}}}
{"text": "2025-12-06T23:35:13.705208+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.268590", "seconds": 2.26859}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473891991584, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:13.705208+00:00", "timestamp": 1765064113.705208}}}
{"text": "2025-12-06T23:35:13.705438+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.268820", "seconds": 2.26882}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473891991584, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:13.705438+00:00", "timestamp": 1765064113.705438}}}
{"text": "2025-12-06T23:35:13.734359+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.297741", "seconds": 2.297741}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473891991584, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:13.734359+00:00", "timestamp": 1765064113.734359}}}
{"text": "2025-12-06T23:35:13.737023+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.300405", "seconds": 2.300405}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473891991584, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:13.737023+00:00", "timestamp": 1765064113.737023}}}
{"text": "2025-12-06T23:35:44.020326+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bdb173251c0d3f8325d9, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.583708", "seconds": 32.583708}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bdb173251c0d3f8325d9, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473891991584, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:44.020326+00:00", "timestamp": 1765064144.020326}}}
{"text": "2025-12-06T23:35:44.028875+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.592257", "seconds": 32.592257}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473891991584, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:44.028875+00:00", "timestamp": 1765064144.028875}}}
{"text": "2025-12-06T23:35:44.029664+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.593046", "seconds": 32.593046}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473891991584, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:44.029664+00:00", "timestamp": 1765064144.029664}}}
{"text": "2025-12-06T23:35:44.368710+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:32.932092", "seconds": 32.932092}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473891991584, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:44.368710+00:00", "timestamp": 1765064144.36871}}}
{"text": "2025-12-06T23:35:44.407487+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.970869", "seconds": 32.970869}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473891991584, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:44.407487+00:00", "timestamp": 1765064144.407487}}}
{"text": "2025-12-06T23:35:44.407906+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.971288", "seconds": 32.971288}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473891991584, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:44.407906+00:00", "timestamp": 1765064144.407906}}}
{"text": "2025-12-06T23:35:44.593638+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.157020", "seconds": 33.15702}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473891991584, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:44.593638+00:00", "timestamp": 1765064144.593638}}}
{"text": "2025-12-06T23:35:45.786713+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.199819", "seconds": 0.199819}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473430102048, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:45.786713+00:00", "timestamp": 1765064145.786713}}}
{"text": "2025-12-06T23:35:45.787027+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.200133", "seconds": 0.200133}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473430102048, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:45.787027+00:00", "timestamp": 1765064145.787027}}}
{"text": "2025-12-06T23:35:46.728578+0000 INFO MAIN Infisical authentication completed in 0.942s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.141684", "seconds": 1.141684}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 0.942s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473430102048, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:46.728578+00:00", "timestamp": 1765064146.728578}}}
{"text": "2025-12-06T23:35:47.002618+0000 INFO MAIN Infisical secrets fetched in 0.273s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.415724", "seconds": 1.415724}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.273s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473430102048, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:47.002618+00:00", "timestamp": 1765064147.002618}}}
{"text": "2025-12-06T23:35:47.003365+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.416471", "seconds": 1.416471}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473430102048, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:47.003365+00:00", "timestamp": 1765064147.003365}}}
{"text": "2025-12-06T23:35:47.003797+0000 INFO MAIN Infisical secrets loaded in 1.217s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.416903", "seconds": 1.416903}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.217s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473430102048, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:47.003797+00:00", "timestamp": 1765064147.003797}}}
{"text": "2025-12-06T23:35:47.010953+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.424059", "seconds": 1.424059}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473430102048, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:47.010953+00:00", "timestamp": 1765064147.010953}}}
{"text": "2025-12-06T23:35:47.772311+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.185417", "seconds": 2.185417}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473430102048, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:47.772311+00:00", "timestamp": 1765064147.772311}}}
{"text": "2025-12-06T23:35:47.922733+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.335839", "seconds": 2.335839}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473430102048, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:47.922733+00:00", "timestamp": 1765064147.922733}}}
{"text": "2025-12-06T23:35:47.922967+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.336073", "seconds": 2.336073}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473430102048, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:47.922967+00:00", "timestamp": 1765064147.922967}}}
{"text": "2025-12-06T23:35:47.951748+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.364854", "seconds": 2.364854}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473430102048, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:47.951748+00:00", "timestamp": 1765064147.951748}}}
{"text": "2025-12-06T23:35:47.952135+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.365241", "seconds": 2.365241}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473430102048, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:47.952135+00:00", "timestamp": 1765064147.952135}}}
{"text": "2025-12-06T23:35:47.981082+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.394188", "seconds": 2.394188}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473430102048, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:47.981082+00:00", "timestamp": 1765064147.981082}}}
{"text": "2025-12-06T23:35:47.986441+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.399547", "seconds": 2.399547}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473430102048, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:35:47.986441+00:00", "timestamp": 1765064147.986441}}}
{"text": "2025-12-06T23:36:18.269463+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bdd3d7af0e45f5d6408f, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.682569", "seconds": 32.682569}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bdd3d7af0e45f5d6408f, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473430102048, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:18.269463+00:00", "timestamp": 1765064178.269463}}}
{"text": "2025-12-06T23:36:18.277980+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.691086", "seconds": 32.691086}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473430102048, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:18.277980+00:00", "timestamp": 1765064178.27798}}}
{"text": "2025-12-06T23:36:18.280403+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.693509", "seconds": 32.693509}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473430102048, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:18.280403+00:00", "timestamp": 1765064178.280403}}}
{"text": "2025-12-06T23:36:18.609149+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:33.022255", "seconds": 33.022255}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473430102048, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:18.609149+00:00", "timestamp": 1765064178.609149}}}
{"text": "2025-12-06T23:36:18.647702+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.060808", "seconds": 33.060808}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473430102048, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:18.647702+00:00", "timestamp": 1765064178.647702}}}
{"text": "2025-12-06T23:36:18.647996+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.061102", "seconds": 33.061102}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473430102048, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:18.647996+00:00", "timestamp": 1765064178.647996}}}
{"text": "2025-12-06T23:36:18.818965+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.232071", "seconds": 33.232071}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473430102048, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:18.818965+00:00", "timestamp": 1765064178.818965}}}
{"text": "2025-12-06T23:36:20.059874+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.235522", "seconds": 0.235522}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473724588064, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:20.059874+00:00", "timestamp": 1765064180.059874}}}
{"text": "2025-12-06T23:36:20.060243+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.235891", "seconds": 0.235891}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473724588064, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:20.060243+00:00", "timestamp": 1765064180.060243}}}
{"text": "2025-12-06T23:36:20.923186+0000 INFO MAIN Infisical authentication completed in 0.863s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.098834", "seconds": 1.098834}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 0.863s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473724588064, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:20.923186+00:00", "timestamp": 1765064180.923186}}}
{"text": "2025-12-06T23:36:21.216302+0000 INFO MAIN Infisical secrets fetched in 0.288s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.391950", "seconds": 1.39195}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.288s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473724588064, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:21.216302+00:00", "timestamp": 1765064181.216302}}}
{"text": "2025-12-06T23:36:21.217286+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.392934", "seconds": 1.392934}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473724588064, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:21.217286+00:00", "timestamp": 1765064181.217286}}}
{"text": "2025-12-06T23:36:21.218670+0000 INFO MAIN Infisical secrets loaded in 1.158s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.394318", "seconds": 1.394318}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.158s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473724588064, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:21.218670+00:00", "timestamp": 1765064181.21867}}}
{"text": "2025-12-06T23:36:21.222201+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.397849", "seconds": 1.397849}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473724588064, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:21.222201+00:00", "timestamp": 1765064181.222201}}}
{"text": "2025-12-06T23:36:21.926387+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.102035", "seconds": 2.102035}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473724588064, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:21.926387+00:00", "timestamp": 1765064181.926387}}}
{"text": "2025-12-06T23:36:22.080441+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.256089", "seconds": 2.256089}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473724588064, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:22.080441+00:00", "timestamp": 1765064182.080441}}}
{"text": "2025-12-06T23:36:22.080739+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.256387", "seconds": 2.256387}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473724588064, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:22.080739+00:00", "timestamp": 1765064182.080739}}}
{"text": "2025-12-06T23:36:22.110595+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.286243", "seconds": 2.286243}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473724588064, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:22.110595+00:00", "timestamp": 1765064182.110595}}}
{"text": "2025-12-06T23:36:22.110958+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.286606", "seconds": 2.286606}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473724588064, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:22.110958+00:00", "timestamp": 1765064182.110958}}}
{"text": "2025-12-06T23:36:22.148077+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.323725", "seconds": 2.323725}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473724588064, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:22.148077+00:00", "timestamp": 1765064182.148077}}}
{"text": "2025-12-06T23:36:22.155321+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.330969", "seconds": 2.330969}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473724588064, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:22.155321+00:00", "timestamp": 1765064182.155321}}}
{"text": "2025-12-06T23:36:52.434459+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bdf6ad4686bbe9ab603d, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.610107", "seconds": 32.610107}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934bdf6ad4686bbe9ab603d, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473724588064, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:52.434459+00:00", "timestamp": 1765064212.434459}}}
{"text": "2025-12-06T23:36:52.441821+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.617469", "seconds": 32.617469}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473724588064, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:52.441821+00:00", "timestamp": 1765064212.441821}}}
{"text": "2025-12-06T23:36:52.442339+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.617987", "seconds": 32.617987}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473724588064, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:52.442339+00:00", "timestamp": 1765064212.442339}}}
{"text": "2025-12-06T23:36:52.820984+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:32.996632", "seconds": 32.996632}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473724588064, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:52.820984+00:00", "timestamp": 1765064212.820984}}}
{"text": "2025-12-06T23:36:52.854249+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.029897", "seconds": 33.029897}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473724588064, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:52.854249+00:00", "timestamp": 1765064212.854249}}}
{"text": "2025-12-06T23:36:52.854673+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.030321", "seconds": 33.030321}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473724588064, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:52.854673+00:00", "timestamp": 1765064212.854673}}}
{"text": "2025-12-06T23:36:53.019534+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.195182", "seconds": 33.195182}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473724588064, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:53.019534+00:00", "timestamp": 1765064213.019534}}}
{"text": "2025-12-06T23:36:54.024771+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.201734", "seconds": 0.201734}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473847513120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:54.024771+00:00", "timestamp": 1765064214.024771}}}
{"text": "2025-12-06T23:36:54.025060+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.202023", "seconds": 0.202023}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473847513120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:54.025060+00:00", "timestamp": 1765064214.02506}}}
{"text": "2025-12-06T23:36:54.893446+0000 INFO MAIN Infisical authentication completed in 0.868s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.070409", "seconds": 1.070409}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 0.868s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473847513120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:54.893446+00:00", "timestamp": 1765064214.893446}}}
{"text": "2025-12-06T23:36:55.225903+0000 INFO MAIN Infisical secrets fetched in 0.332s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.402866", "seconds": 1.402866}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.332s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473847513120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:55.225903+00:00", "timestamp": 1765064215.225903}}}
{"text": "2025-12-06T23:36:55.226629+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.403592", "seconds": 1.403592}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473847513120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:55.226629+00:00", "timestamp": 1765064215.226629}}}
{"text": "2025-12-06T23:36:55.226766+0000 INFO MAIN Infisical secrets loaded in 1.202s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.403729", "seconds": 1.403729}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.202s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473847513120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:55.226766+00:00", "timestamp": 1765064215.226766}}}
{"text": "2025-12-06T23:36:55.228324+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.405287", "seconds": 1.405287}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473847513120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:55.228324+00:00", "timestamp": 1765064215.228324}}}
{"text": "2025-12-06T23:36:55.909241+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.086204", "seconds": 2.086204}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473847513120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:55.909241+00:00", "timestamp": 1765064215.909241}}}
{"text": "2025-12-06T23:36:56.050328+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.227291", "seconds": 2.227291}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473847513120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:56.050328+00:00", "timestamp": 1765064216.050328}}}
{"text": "2025-12-06T23:36:56.050754+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.227717", "seconds": 2.227717}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473847513120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:56.050754+00:00", "timestamp": 1765064216.050754}}}
{"text": "2025-12-06T23:36:56.076923+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.253886", "seconds": 2.253886}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473847513120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:56.076923+00:00", "timestamp": 1765064216.076923}}}
{"text": "2025-12-06T23:36:56.077330+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.254293", "seconds": 2.254293}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473847513120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:56.077330+00:00", "timestamp": 1765064216.07733}}}
{"text": "2025-12-06T23:36:56.103989+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.280952", "seconds": 2.280952}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473847513120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:56.103989+00:00", "timestamp": 1765064216.103989}}}
{"text": "2025-12-06T23:36:56.109057+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.286020", "seconds": 2.28602}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473847513120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:36:56.109057+00:00", "timestamp": 1765064216.109057}}}
{"text": "2025-12-06T23:37:26.376585+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934be18da157bc628e506e8, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.553548", "seconds": 32.553548}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934be18da157bc628e506e8, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473847513120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:37:26.376585+00:00", "timestamp": 1765064246.376585}}}
{"text": "2025-12-06T23:37:26.382405+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.559368", "seconds": 32.559368}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473847513120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:37:26.382405+00:00", "timestamp": 1765064246.382405}}}
{"text": "2025-12-06T23:37:26.382874+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.559837", "seconds": 32.559837}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473847513120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:37:26.382874+00:00", "timestamp": 1765064246.382874}}}
{"text": "2025-12-06T23:37:26.612820+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:32.789783", "seconds": 32.789783}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473847513120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:37:26.612820+00:00", "timestamp": 1765064246.61282}}}
{"text": "2025-12-06T23:37:26.640548+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.817511", "seconds": 32.817511}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473847513120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:37:26.640548+00:00", "timestamp": 1765064246.640548}}}
{"text": "2025-12-06T23:37:26.640856+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.817819", "seconds": 32.817819}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473847513120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:37:26.640856+00:00", "timestamp": 1765064246.640856}}}
{"text": "2025-12-06T23:37:26.777765+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.954728", "seconds": 32.954728}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473847513120, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:37:26.777765+00:00", "timestamp": 1765064246.777765}}}
{"text": "2025-12-06T23:37:27.762778+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.202308", "seconds": 0.202308}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473538072608, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:37:27.762778+00:00", "timestamp": 1765064247.762778}}}
{"text": "2025-12-06T23:37:27.763247+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.202777", "seconds": 0.202777}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473538072608, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:37:27.763247+00:00", "timestamp": 1765064247.763247}}}
{"text": "2025-12-06T23:37:28.602392+0000 INFO MAIN Infisical authentication completed in 0.839s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.041922", "seconds": 1.041922}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 0.839s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473538072608, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:37:28.602392+00:00", "timestamp": 1765064248.602392}}}
{"text": "2025-12-06T23:37:29.341992+0000 INFO MAIN Infisical secrets fetched in 0.738s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.781522", "seconds": 1.781522}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.738s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473538072608, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:37:29.341992+00:00", "timestamp": 1765064249.341992}}}
{"text": "2025-12-06T23:37:29.343978+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.783508", "seconds": 1.783508}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473538072608, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:37:29.343978+00:00", "timestamp": 1765064249.343978}}}
{"text": "2025-12-06T23:37:29.346722+0000 INFO MAIN Infisical secrets loaded in 1.583s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.786252", "seconds": 1.786252}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.583s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473538072608, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:37:29.346722+00:00", "timestamp": 1765064249.346722}}}
{"text": "2025-12-06T23:37:29.351433+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.790963", "seconds": 1.790963}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473538072608, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:37:29.351433+00:00", "timestamp": 1765064249.351433}}}
{"text": "2025-12-06T23:37:29.944441+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.383971", "seconds": 2.383971}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473538072608, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:37:29.944441+00:00", "timestamp": 1765064249.944441}}}
{"text": "2025-12-06T23:37:30.074784+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.514314", "seconds": 2.514314}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473538072608, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:37:30.074784+00:00", "timestamp": 1765064250.074784}}}
{"text": "2025-12-06T23:37:30.075154+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.514684", "seconds": 2.514684}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473538072608, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:37:30.075154+00:00", "timestamp": 1765064250.075154}}}
{"text": "2025-12-06T23:37:30.098153+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.537683", "seconds": 2.537683}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473538072608, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:37:30.098153+00:00", "timestamp": 1765064250.098153}}}
{"text": "2025-12-06T23:37:30.098392+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.537922", "seconds": 2.537922}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473538072608, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:37:30.098392+00:00", "timestamp": 1765064250.098392}}}
{"text": "2025-12-06T23:37:30.122868+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.562398", "seconds": 2.562398}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473538072608, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:37:30.122868+00:00", "timestamp": 1765064250.122868}}}
{"text": "2025-12-06T23:37:30.125844+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.565374", "seconds": 2.565374}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473538072608, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:37:30.125844+00:00", "timestamp": 1765064250.125844}}}
{"text": "2025-12-06T23:38:00.399564+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934be3ac72980341b24bd1c, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.839094", "seconds": 32.839094}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934be3ac72980341b24bd1c, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473538072608, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:00.399564+00:00", "timestamp": 1765064280.399564}}}
{"text": "2025-12-06T23:38:00.407263+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.846793", "seconds": 32.846793}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473538072608, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:00.407263+00:00", "timestamp": 1765064280.407263}}}
{"text": "2025-12-06T23:38:00.407989+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.847519", "seconds": 32.847519}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473538072608, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:00.407989+00:00", "timestamp": 1765064280.407989}}}
{"text": "2025-12-06T23:38:00.662779+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:33.102309", "seconds": 33.102309}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473538072608, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:00.662779+00:00", "timestamp": 1765064280.662779}}}
{"text": "2025-12-06T23:38:00.693162+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.132692", "seconds": 33.132692}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473538072608, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:00.693162+00:00", "timestamp": 1765064280.693162}}}
{"text": "2025-12-06T23:38:00.693537+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.133067", "seconds": 33.133067}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473538072608, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:00.693537+00:00", "timestamp": 1765064280.693537}}}
{"text": "2025-12-06T23:38:00.837939+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:33.277469", "seconds": 33.277469}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473538072608, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:00.837939+00:00", "timestamp": 1765064280.837939}}}
{"text": "2025-12-06T23:38:01.756410+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.199090", "seconds": 0.19909}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473036783648, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:01.756410+00:00", "timestamp": 1765064281.75641}}}
{"text": "2025-12-06T23:38:01.756884+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.199564", "seconds": 0.199564}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473036783648, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:01.756884+00:00", "timestamp": 1765064281.756884}}}
{"text": "2025-12-06T23:38:02.585397+0000 INFO MAIN Infisical authentication completed in 0.828s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.028077", "seconds": 1.028077}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 0.828s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473036783648, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:02.585397+00:00", "timestamp": 1765064282.585397}}}
{"text": "2025-12-06T23:38:02.861683+0000 INFO MAIN Infisical secrets fetched in 0.275s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.304363", "seconds": 1.304363}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.275s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473036783648, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:02.861683+00:00", "timestamp": 1765064282.861683}}}
{"text": "2025-12-06T23:38:02.863212+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.305892", "seconds": 1.305892}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473036783648, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:02.863212+00:00", "timestamp": 1765064282.863212}}}
{"text": "2025-12-06T23:38:02.863796+0000 INFO MAIN Infisical secrets loaded in 1.107s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.306476", "seconds": 1.306476}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.107s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473036783648, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:02.863796+00:00", "timestamp": 1765064282.863796}}}
{"text": "2025-12-06T23:38:02.868218+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.310898", "seconds": 1.310898}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473036783648, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:02.868218+00:00", "timestamp": 1765064282.868218}}}
{"text": "2025-12-06T23:38:03.492901+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:01.935581", "seconds": 1.935581}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473036783648, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:03.492901+00:00", "timestamp": 1765064283.492901}}}
{"text": "2025-12-06T23:38:03.626704+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.069384", "seconds": 2.069384}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473036783648, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:03.626704+00:00", "timestamp": 1765064283.626704}}}
{"text": "2025-12-06T23:38:03.627066+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.069746", "seconds": 2.069746}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473036783648, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:03.627066+00:00", "timestamp": 1765064283.627066}}}
{"text": "2025-12-06T23:38:03.651450+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.094130", "seconds": 2.09413}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473036783648, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:03.651450+00:00", "timestamp": 1765064283.65145}}}
{"text": "2025-12-06T23:38:03.651772+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.094452", "seconds": 2.094452}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473036783648, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:03.651772+00:00", "timestamp": 1765064283.651772}}}
{"text": "2025-12-06T23:38:03.677102+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.119782", "seconds": 2.119782}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473036783648, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:03.677102+00:00", "timestamp": 1765064283.677102}}}
{"text": "2025-12-06T23:38:03.682213+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.124893", "seconds": 2.124893}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473036783648, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:03.682213+00:00", "timestamp": 1765064283.682213}}}
{"text": "2025-12-06T23:38:33.963511+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934be5bee6aca741608b63c, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.406191", "seconds": 32.406191}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934be5bee6aca741608b63c, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473036783648, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:33.963511+00:00", "timestamp": 1765064313.963511}}}
{"text": "2025-12-06T23:38:33.965169+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.407849", "seconds": 32.407849}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473036783648, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:33.965169+00:00", "timestamp": 1765064313.965169}}}
{"text": "2025-12-06T23:38:33.965566+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.408246", "seconds": 32.408246}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473036783648, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:33.965566+00:00", "timestamp": 1765064313.965566}}}
{"text": "2025-12-06T23:38:34.206375+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:32.649055", "seconds": 32.649055}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473036783648, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:34.206375+00:00", "timestamp": 1765064314.206375}}}
{"text": "2025-12-06T23:38:34.236231+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.678911", "seconds": 32.678911}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473036783648, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:34.236231+00:00", "timestamp": 1765064314.236231}}}
{"text": "2025-12-06T23:38:34.236466+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.679146", "seconds": 32.679146}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473036783648, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:34.236466+00:00", "timestamp": 1765064314.236466}}}
{"text": "2025-12-06T23:38:34.379674+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.822354", "seconds": 32.822354}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473036783648, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:34.379674+00:00", "timestamp": 1765064314.379674}}}
{"text": "2025-12-06T23:38:35.329944+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.195461", "seconds": 0.195461}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473648873504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:35.329944+00:00", "timestamp": 1765064315.329944}}}
{"text": "2025-12-06T23:38:35.330398+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.195915", "seconds": 0.195915}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473648873504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:35.330398+00:00", "timestamp": 1765064315.330398}}}
{"text": "2025-12-06T23:38:36.161007+0000 INFO MAIN Infisical authentication completed in 0.831s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.026524", "seconds": 1.026524}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 0.831s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473648873504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:36.161007+00:00", "timestamp": 1765064316.161007}}}
{"text": "2025-12-06T23:38:36.509776+0000 INFO MAIN Infisical secrets fetched in 0.346s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.375293", "seconds": 1.375293}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.346s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473648873504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:36.509776+00:00", "timestamp": 1765064316.509776}}}
{"text": "2025-12-06T23:38:36.510930+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.376447", "seconds": 1.376447}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473648873504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:36.510930+00:00", "timestamp": 1765064316.51093}}}
{"text": "2025-12-06T23:38:36.511376+0000 INFO MAIN Infisical secrets loaded in 1.181s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.376893", "seconds": 1.376893}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.181s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473648873504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:36.511376+00:00", "timestamp": 1765064316.511376}}}
{"text": "2025-12-06T23:38:36.514519+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.380036", "seconds": 1.380036}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473648873504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:36.514519+00:00", "timestamp": 1765064316.514519}}}
{"text": "2025-12-06T23:38:37.192876+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.058393", "seconds": 2.058393}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473648873504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:37.192876+00:00", "timestamp": 1765064317.192876}}}
{"text": "2025-12-06T23:38:37.337197+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.202714", "seconds": 2.202714}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473648873504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:37.337197+00:00", "timestamp": 1765064317.337197}}}
{"text": "2025-12-06T23:38:37.337543+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.203060", "seconds": 2.20306}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473648873504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:37.337543+00:00", "timestamp": 1765064317.337543}}}
{"text": "2025-12-06T23:38:37.363192+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.228709", "seconds": 2.228709}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473648873504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:37.363192+00:00", "timestamp": 1765064317.363192}}}
{"text": "2025-12-06T23:38:37.363518+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.229035", "seconds": 2.229035}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473648873504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:37.363518+00:00", "timestamp": 1765064317.363518}}}
{"text": "2025-12-06T23:38:37.390086+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.255603", "seconds": 2.255603}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473648873504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:37.390086+00:00", "timestamp": 1765064317.390086}}}
{"text": "2025-12-06T23:38:37.395572+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.261089", "seconds": 2.261089}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473648873504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:38:37.395572+00:00", "timestamp": 1765064317.395572}}}
{"text": "2025-12-06T23:39:07.676004+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934be7d11edce8cbdc1b369, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.541521", "seconds": 32.541521}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934be7d11edce8cbdc1b369, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473648873504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:07.676004+00:00", "timestamp": 1765064347.676004}}}
{"text": "2025-12-06T23:39:07.678237+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.543754", "seconds": 32.543754}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473648873504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:07.678237+00:00", "timestamp": 1765064347.678237}}}
{"text": "2025-12-06T23:39:07.678720+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.544237", "seconds": 32.544237}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473648873504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:07.678720+00:00", "timestamp": 1765064347.67872}}}
{"text": "2025-12-06T23:39:07.916205+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:32.781722", "seconds": 32.781722}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473648873504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:07.916205+00:00", "timestamp": 1765064347.916205}}}
{"text": "2025-12-06T23:39:07.945758+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.811275", "seconds": 32.811275}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473648873504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:07.945758+00:00", "timestamp": 1765064347.945758}}}
{"text": "2025-12-06T23:39:07.946077+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.811594", "seconds": 32.811594}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473648873504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:07.946077+00:00", "timestamp": 1765064347.946077}}}
{"text": "2025-12-06T23:39:08.087000+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.952517", "seconds": 32.952517}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473648873504, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:08.087000+00:00", "timestamp": 1765064348.087}}}
{"text": "2025-12-06T23:39:09.016261+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.191804", "seconds": 0.191804}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473726189600, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:09.016261+00:00", "timestamp": 1765064349.016261}}}
{"text": "2025-12-06T23:39:09.016867+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:00.192410", "seconds": 0.19241}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473726189600, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:09.016867+00:00", "timestamp": 1765064349.016867}}}
{"text": "2025-12-06T23:39:09.940575+0000 INFO MAIN Infisical authentication completed in 0.924s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.116118", "seconds": 1.116118}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 0.924s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473726189600, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:09.940575+00:00", "timestamp": 1765064349.940575}}}
{"text": "2025-12-06T23:39:10.259805+0000 INFO MAIN Infisical secrets fetched in 0.318s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.435348", "seconds": 1.435348}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.318s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473726189600, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:10.259805+00:00", "timestamp": 1765064350.259805}}}
{"text": "2025-12-06T23:39:10.261005+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.436548", "seconds": 1.436548}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473726189600, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:10.261005+00:00", "timestamp": 1765064350.261005}}}
{"text": "2025-12-06T23:39:10.261730+0000 INFO MAIN Infisical secrets loaded in 1.245s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.437273", "seconds": 1.437273}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.245s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473726189600, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:10.261730+00:00", "timestamp": 1765064350.26173}}}
{"text": "2025-12-06T23:39:10.265561+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.441104", "seconds": 1.441104}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473726189600, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:10.265561+00:00", "timestamp": 1765064350.265561}}}
{"text": "2025-12-06T23:39:10.924757+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:02.100300", "seconds": 2.1003}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473726189600, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:10.924757+00:00", "timestamp": 1765064350.924757}}}
{"text": "2025-12-06T23:39:11.062354+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.237897", "seconds": 2.237897}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473726189600, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:11.062354+00:00", "timestamp": 1765064351.062354}}}
{"text": "2025-12-06T23:39:11.062718+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:02.238261", "seconds": 2.238261}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473726189600, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:11.062718+00:00", "timestamp": 1765064351.062718}}}
{"text": "2025-12-06T23:39:11.087925+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.263468", "seconds": 2.263468}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473726189600, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:11.087925+00:00", "timestamp": 1765064351.087925}}}
{"text": "2025-12-06T23:39:11.088188+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.263731", "seconds": 2.263731}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473726189600, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:11.088188+00:00", "timestamp": 1765064351.088188}}}
{"text": "2025-12-06T23:39:11.113827+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.289370", "seconds": 2.28937}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473726189600, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:11.113827+00:00", "timestamp": 1765064351.113827}}}
{"text": "2025-12-06T23:39:11.119712+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:02.295255", "seconds": 2.295255}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473726189600, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:11.119712+00:00", "timestamp": 1765064351.119712}}}
{"text": "2025-12-06T23:39:41.509763+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934be9f9df64a7765d6ac3e, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.685306", "seconds": 32.685306}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934be9f9df64a7765d6ac3e, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473726189600, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:41.509763+00:00", "timestamp": 1765064381.509763}}}
{"text": "2025-12-06T23:39:41.521566+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:32.697109", "seconds": 32.697109}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473726189600, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:41.521566+00:00", "timestamp": 1765064381.521566}}}
{"text": "2025-12-06T23:39:41.522262+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:32.697805", "seconds": 32.697805}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473726189600, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:41.522262+00:00", "timestamp": 1765064381.522262}}}
{"text": "2025-12-06T23:39:43.110312+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "0:00:34.285855", "seconds": 34.285855}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473726189600, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:43.110312+00:00", "timestamp": 1765064383.110312}}}
{"text": "2025-12-06T23:39:43.274731+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:34.450274", "seconds": 34.450274}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473726189600, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:43.274731+00:00", "timestamp": 1765064383.274731}}}
{"text": "2025-12-06T23:39:43.275901+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:34.451444", "seconds": 34.451444}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473726189600, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:43.275901+00:00", "timestamp": 1765064383.275901}}}
{"text": "2025-12-06T23:39:44.091782+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:35.267325", "seconds": 35.267325}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473726189600, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:44.091782+00:00", "timestamp": 1765064384.091782}}}
{"text": "2025-12-06T23:39:49.133211+0000 INFO MAIN Starting settings initialization... settings.py get_settings 319{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.295278", "seconds": 1.295278}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 319, "message": "Starting settings initialization...", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473881911328, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:49.133211+00:00", "timestamp": 1765064389.133211}}}
{"text": "2025-12-06T23:39:49.140507+0000 INFO MAIN Connecting to Infisical... secrets.py inject_infisical_secrets 53{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:01.302574", "seconds": 1.302574}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Connecting to Infisical...", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473881911328, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:49.140507+00:00", "timestamp": 1765064389.140507}}}
{"text": "2025-12-06T23:39:50.210264+0000 INFO MAIN Infisical authentication completed in 1.070s secrets.py inject_infisical_secrets 63{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:02.372331", "seconds": 2.372331}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Infisical authentication completed in 1.070s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473881911328, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:50.210264+00:00", "timestamp": 1765064390.210264}}}
{"text": "2025-12-06T23:39:50.924246+0000 INFO MAIN Infisical secrets fetched in 0.713s secrets.py inject_infisical_secrets 82{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:03.086313", "seconds": 3.086313}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 82, "message": "Infisical secrets fetched in 0.713s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473881911328, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:50.924246+00:00", "timestamp": 1765064390.924246}}}
{"text": "2025-12-06T23:39:50.925384+0000 INFO MAIN Secrets injected into environment in 0.000s secrets.py inject_infisical_secrets 94{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:03.087451", "seconds": 3.087451}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "secrets.py", "path": "/app/app/config/secrets.py"}, "function": "inject_infisical_secrets", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 94, "message": "Secrets injected into environment in 0.000s", "module": "secrets", "name": "app.config.secrets", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473881911328, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:50.925384+00:00", "timestamp": 1765064390.925384}}}
{"text": "2025-12-06T23:39:50.925923+0000 INFO MAIN Infisical secrets loaded in 1.785s settings.py get_settings 324{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:03.087990", "seconds": 3.08799}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings.py", "path": "/app/app/config/settings.py"}, "function": "get_settings", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 324, "message": "Infisical secrets loaded in 1.785s", "module": "settings", "name": "app.config.settings", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473881911328, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:50.925923+00:00", "timestamp": 1765064390.925923}}}
{"text": "2025-12-06T23:39:50.929947+0000 WARNING MAIN WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking settings_validator.py log_validation_results 376{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:03.092014", "seconds": 3.092014}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "settings_validator.py", "path": "/app/app/config/settings_validator.py"}, "function": "log_validation_results", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 376, "message": "WARNING: Missing configuration for Posthog Analytics - Missing keys: POSTHOG_API_KEY\n  → Affected: User behavior analytics and event tracking", "module": "settings_validator", "name": "app.config.settings_validator", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473881911328, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:50.929947+00:00", "timestamp": 1765064390.929947}}}
{"text": "2025-12-06T23:39:53.725554+0000 INFO REDIS Redis connection initialized. redis.py __init__ 119{'logger_name': 'REDIS'}\n", "record": {"elapsed": {"repr": "0:00:05.887621", "seconds": 5.887621}, "exception": null, "extra": {"logger_name": "REDIS"}, "file": {"name": "redis.py", "path": "/app/app/db/redis.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 119, "message": "Redis connection initialized.", "module": "redis", "name": "app.db.redis", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473881911328, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:53.725554+00:00", "timestamp": 1765064393.725554}}}
{"text": "2025-12-06T23:39:54.232334+0000 INFO TOKEN_REPOSITORY Google OAuth client registered token_repository.py _init_oauth_clients 60{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:06.394401", "seconds": 6.394401}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "_init_oauth_clients", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 60, "message": "Google OAuth client registered", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473881911328, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:54.232334+00:00", "timestamp": 1765064394.232334}}}
{"text": "2025-12-06T23:39:54.233603+0000 INFO TOKEN_REPOSITORY Token repository initialized for managing API tokens (Google, etc.) token_repository.py __init__ 42{'logger_name': 'TOKEN_REPOSITORY'}\n", "record": {"elapsed": {"repr": "0:00:06.395670", "seconds": 6.39567}, "exception": null, "extra": {"logger_name": "TOKEN_REPOSITORY"}, "file": {"name": "token_repository.py", "path": "/app/app/config/token_repository.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Token repository initialized for managing API tokens (Google, etc.)", "module": "token_repository", "name": "app.config.token_repository", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473881911328, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:54.233603+00:00", "timestamp": 1765064394.233603}}}
{"text": "2025-12-06T23:39:54.359076+0000 INFO MAIN Creating collection 'users' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:06.521143", "seconds": 6.521143}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'users' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473881911328, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:54.359076+00:00", "timestamp": 1765064394.359076}}}
{"text": "2025-12-06T23:39:54.361184+0000 INFO MAIN Initializing MongoDB instance (lazy loading) collections.py _get_mongodb_instance 35{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "0:00:06.523251", "seconds": 6.523251}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 35, "message": "Initializing MongoDB instance (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473881911328, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:54.361184+00:00", "timestamp": 1765064394.361184}}}
{"text": "2025-12-06T23:39:54.500444+0000 INFO MONGODB Initializing MongoDB... mongodb.py init_mongodb 74{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:06.662511", "seconds": 6.662511}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "Initializing MongoDB...", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473881911328, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:54.500444+00:00", "timestamp": 1765064394.500444}}}
{"text": "2025-12-06T23:39:54.520659+0000 INFO MONGODB Created MongoDB instance mongodb.py init_mongodb 76{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "0:00:06.682726", "seconds": 6.682726}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Created MongoDB instance", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473881911328, "name": "MainThread"}, "time": {"repr": "2025-12-06 23:39:54.520659+00:00", "timestamp": 1765064394.520659}}}
{"text": "2025-12-07T09:26:46.315099+0000 ERROR MONGODB Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934becaa34f14f1385a633c, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]> mongodb.py ping 49{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "9:46:58.477166", "seconds": 35218.477166}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "ping", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "Ping failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6934becaa34f14f1385a633c, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473881911328, "name": "MainThread"}, "time": {"repr": "2025-12-07 09:26:46.315099+00:00", "timestamp": 1765099606.315099}}}
{"text": "2025-12-07T09:26:46.680839+0000 INFO MONGODB Successfully connected to MongoDB. mongodb.py init_mongodb 78{'logger_name': 'MONGODB'}\n", "record": {"elapsed": {"repr": "9:46:58.842906", "seconds": 35218.842906}, "exception": null, "extra": {"logger_name": "MONGODB"}, "file": {"name": "mongodb.py", "path": "/app/app/db/mongodb/mongodb.py"}, "function": "init_mongodb", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "Successfully connected to MongoDB.", "module": "mongodb", "name": "app.db.mongodb.mongodb", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473881911328, "name": "MainThread"}, "time": {"repr": "2025-12-07 09:26:46.680839+00:00", "timestamp": 1765099606.680839}}}
{"text": "2025-12-07T09:26:46.682538+0000 INFO MAIN MongoDB instance initialized collections.py _get_mongodb_instance 39{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "9:46:58.844605", "seconds": 35218.844605}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_mongodb_instance", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "MongoDB instance initialized", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473881911328, "name": "MainThread"}, "time": {"repr": "2025-12-07 09:26:46.682538+00:00", "timestamp": 1765099606.682538}}}
{"text": "2025-12-07T09:26:48.080147+0000 INFO PROFILER PyInstrument profiling available profiling.py <module> 23{'logger_name': 'PROFILER'}\n", "record": {"elapsed": {"repr": "9:47:00.242214", "seconds": 35220.242214}, "exception": null, "extra": {"logger_name": "PROFILER"}, "file": {"name": "profiling.py", "path": "/app/app/api/v1/middleware/profiling.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 23, "message": "PyInstrument profiling available", "module": "profiling", "name": "app.api.v1.middleware.profiling", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473881911328, "name": "MainThread"}, "time": {"repr": "2025-12-07 09:26:48.080147+00:00", "timestamp": 1765099608.080147}}}
{"text": "2025-12-07T09:26:48.186387+0000 INFO MAIN Creating collection 'subscription_plans' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "9:47:00.348454", "seconds": 35220.348454}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscription_plans' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473881911328, "name": "MainThread"}, "time": {"repr": "2025-12-07 09:26:48.186387+00:00", "timestamp": 1765099608.186387}}}
{"text": "2025-12-07T09:26:48.187530+0000 INFO MAIN Creating collection 'subscriptions' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "9:47:00.349597", "seconds": 35220.349597}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'subscriptions' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473881911328, "name": "MainThread"}, "time": {"repr": "2025-12-07 09:26:48.187530+00:00", "timestamp": 1765099608.18753}}}
{"text": "2025-12-07T09:26:48.420198+0000 INFO MAIN Creating collection 'usage_snapshots' (lazy loading) collections.py _get_collection 46{'logger_name': 'MAIN'}\n", "record": {"elapsed": {"repr": "9:47:00.582265", "seconds": 35220.582265}, "exception": null, "extra": {"logger_name": "MAIN"}, "file": {"name": "collections.py", "path": "/app/app/db/mongodb/collections.py"}, "function": "_get_collection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Creating collection 'usage_snapshots' (lazy loading)", "module": "collections", "name": "app.db.mongodb.collections", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 281473881911328, "name": "MainThread"}, "time": {"repr": "2025-12-07 09:26:48.420198+00:00", "timestamp": 1765099608.420198}}}
