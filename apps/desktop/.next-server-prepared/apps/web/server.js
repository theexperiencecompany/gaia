performance.mark('next-start');
import path from 'node:path'
import { fileURLToPath } from 'node:url'
import module from 'node:module'
const require = module.createRequire(import.meta.url)
const __dirname = fileURLToPath(new URL('.', import.meta.url))


const dir = path.join(__dirname)

process.env.NODE_ENV = 'production'
process.chdir(__dirname)

const currentPort = parseInt(process.env.PORT, 10) || 3000
const hostname = process.env.HOSTNAME || '0.0.0.0'

let keepAliveTimeout = parseInt(process.env.KEEP_ALIVE_TIMEOUT, 10)
const nextConfig = {"env":{"_sentryRewriteFramesDistDir":".next","_sentryRewriteFramesAssetPrefixPath":"","_sentryRelease":"d63115be33628108388d4bc2b16727af5006bd55","NEXT_PUBLIC_API_BASE_URL":"https://api.heygaia.io/api/v1/"},"typescript":{"ignoreBuildErrors":false},"typedRoutes":false,"distDir":"./.next","cleanDistDir":true,"assetPrefix":"","cacheMaxMemorySize":52428800,"configOrigin":"next.config.mjs","useFileSystemPublicRoutes":true,"generateEtags":true,"pageExtensions":["js","jsx","mdx","ts","tsx"],"poweredByHeader":true,"compress":true,"images":{"deviceSizes":[640,750,828,1080,1200,1920,2048,3840],"imageSizes":[32,48,64,96,128,256,384],"path":"/_next/image","loader":"default","loaderFile":"","domains":[],"disableStaticImages":false,"minimumCacheTTL":14400,"formats":["image/webp"],"maximumRedirects":3,"dangerouslyAllowLocalIP":false,"dangerouslyAllowSVG":true,"contentSecurityPolicy":"script-src 'none'; frame-src 'none'; sandbox;","contentDispositionType":"attachment","localPatterns":[{"pathname":"**","search":""}],"remotePatterns":[{"protocol":"https","hostname":"**"},{"protocol":"http","hostname":"**"}],"qualities":[75],"unoptimized":false},"devIndicators":{"position":"bottom-left"},"onDemandEntries":{"maxInactiveAge":60000,"pagesBufferLength":5},"basePath":"","sassOptions":{},"trailingSlash":false,"i18n":null,"productionBrowserSourceMaps":true,"excludeDefaultMomentLocales":true,"reactProductionProfiling":false,"reactStrictMode":true,"reactMaxHeadersLength":6000,"httpAgentOptions":{"keepAlive":true},"logging":{},"compiler":{},"expireTime":31536000,"staticPageGenerationTimeout":60,"output":"standalone","modularizeImports":{"@mui/icons-material":{"transform":"@mui/icons-material/{{member}}"},"lodash":{"transform":"lodash/{{member}}"}},"outputFileTracingRoot":"/Users/aryan/Projects/GAIA/gaia","cacheComponents":false,"cacheLife":{"default":{"stale":300,"revalidate":900,"expire":4294967294},"seconds":{"stale":30,"revalidate":1,"expire":60},"minutes":{"stale":300,"revalidate":60,"expire":3600},"hours":{"stale":300,"revalidate":3600,"expire":86400},"days":{"stale":300,"revalidate":86400,"expire":604800},"weeks":{"stale":300,"revalidate":604800,"expire":2592000},"max":{"stale":300,"revalidate":2592000,"expire":31536000}},"cacheHandlers":{},"experimental":{"useSkewCookie":false,"cssChunking":true,"multiZoneDraftMode":false,"appNavFailHandling":false,"prerenderEarlyExit":true,"serverMinification":true,"serverSourceMaps":false,"linkNoTouchStart":false,"caseSensitiveRoutes":false,"dynamicOnHover":false,"preloadEntriesOnStart":true,"clientRouterFilter":true,"clientRouterFilterRedirects":false,"fetchCacheKeyPrefix":"","proxyPrefetch":"flexible","optimisticClientCache":true,"manualClientBasePath":false,"cpus":11,"memoryBasedWorkersCount":false,"imgOptConcurrency":null,"imgOptTimeoutInSeconds":7,"imgOptMaxInputPixels":268402689,"imgOptSequentialRead":null,"imgOptSkipMetadata":null,"isrFlushToDisk":true,"workerThreads":false,"optimizeCss":false,"nextScriptWorkers":false,"scrollRestoration":false,"externalDir":false,"disableOptimizedLoading":false,"gzipSize":true,"craCompat":false,"esmExternals":true,"fullySpecified":false,"swcTraceProfiling":false,"forceSwcTransforms":false,"largePageDataBytes":128000,"typedEnv":false,"clientTraceMetadata":["baggage","sentry-trace"],"parallelServerCompiles":false,"parallelServerBuildTraces":false,"ppr":false,"authInterrupts":false,"webpackMemoryOptimizations":false,"optimizeServerReact":true,"viewTransition":false,"removeUncaughtErrorAndRejectionListeners":false,"validateRSCRequestHeaders":false,"staleTimes":{"dynamic":0,"static":300},"reactDebugChannel":false,"serverComponentsHmrCache":true,"staticGenerationMaxConcurrency":8,"staticGenerationMinPagesPerWorker":25,"inlineCss":false,"useCache":false,"globalNotFound":false,"browserDebugInfoInTerminal":false,"lockDistDir":true,"isolatedDevBuild":true,"proxyClientMaxBodySize":10485760,"hideLogsAfterAbort":false,"mcpServer":true,"optimizePackageImports":["mermaid","react-syntax-highlighter","cytoscape","lucide-react","date-fns","lodash-es","ramda","antd","react-bootstrap","ahooks","@ant-design/icons","@headlessui/react","@headlessui-float/react","@heroicons/react/20/solid","@heroicons/react/24/solid","@heroicons/react/24/outline","@visx/visx","@tremor/react","rxjs","@mui/material","@mui/icons-material","recharts","react-use","effect","@effect/schema","@effect/platform","@effect/platform-node","@effect/platform-browser","@effect/platform-bun","@effect/sql","@effect/sql-mssql","@effect/sql-mysql2","@effect/sql-pg","@effect/sql-sqlite-node","@effect/sql-sqlite-bun","@effect/sql-sqlite-wasm","@effect/sql-sqlite-react-native","@effect/rpc","@effect/rpc-http","@effect/typeclass","@effect/experimental","@effect/opentelemetry","@material-ui/core","@material-ui/icons","@tabler/icons-react","mui-core","react-icons/ai","react-icons/bi","react-icons/bs","react-icons/cg","react-icons/ci","react-icons/di","react-icons/fa","react-icons/fa6","react-icons/fc","react-icons/fi","react-icons/gi","react-icons/go","react-icons/gr","react-icons/hi","react-icons/hi2","react-icons/im","react-icons/io","react-icons/io5","react-icons/lia","react-icons/lib","react-icons/lu","react-icons/md","react-icons/pi","react-icons/ri","react-icons/rx","react-icons/si","react-icons/sl","react-icons/tb","react-icons/tfi","react-icons/ti","react-icons/vsc","react-icons/wi"],"trustHostHeader":false,"isExperimentalCompile":false},"htmlLimitedBots":"[\\w-]+-Google|Google-[\\w-]+|Chrome-Lighthouse|Slurp|DuckDuckBot|baiduspider|yandex|sogou|bitlybot|tumblr|vkShare|quora link preview|redditbot|ia_archiver|Bingbot|BingPreview|applebot|facebookexternalhit|facebookcatalog|Twitterbot|LinkedInBot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|Yeti|googleweblight","bundlePagesRouterDependencies":false,"configFileName":"next.config.mjs","skipTrailingSlashRedirect":true,"turbopack":{"rules":{"#next-mdx":{"loaders":[{"loader":"/Users/aryan/Projects/GAIA/gaia/node_modules/.pnpm/@next+mdx@15.5.9_@mdx-js+loader@3.1.1_webpack@5.103.0__@mdx-js+react@3.1.1_@types+react@19.2.7_react@19.2.3_/node_modules/@next/mdx/mdx-js-loader.js","options":{"providerImportSource":"next-mdx-import-source-file"}}],"as":"*.tsx"},"**/instrumentation-client.*":{"loaders":[{"loader":"/Users/aryan/Projects/GAIA/gaia/node_modules/.pnpm/@sentry+nextjs@10.30.0_@opentelemetry+context-async-hooks@2.2.0_@opentelemetry+api@1.9._59aa4c95a13a8754c70d758ab652cdd6/node_modules/@sentry/nextjs/build/cjs/config/loaders/valueInjectionLoader.js","options":{"values":{"_sentryRouteManifest":"{\"dynamicRoutes\":[{\"path\":\"/blog/:slug\",\"regex\":\"^/blog/([^/]+)$\",\"paramNames\":[\"slug\"],\"hasOptionalPrefix\":false},{\"path\":\"/profile/:id\",\"regex\":\"^/profile/([^/]+)$\",\"paramNames\":[\"id\"],\"hasOptionalPrefix\":false},{\"path\":\"/use-cases/:slug\",\"regex\":\"^/use-cases/([^/]+)$\",\"paramNames\":[\"slug\"],\"hasOptionalPrefix\":false},{\"path\":\"/c/:id\",\"regex\":\"^/c/([^/]+)$\",\"paramNames\":[\"id\"],\"hasOptionalPrefix\":false},{\"path\":\"/goals/:id\",\"regex\":\"^/goals/([^/]+)$\",\"paramNames\":[\"id\"],\"hasOptionalPrefix\":false},{\"path\":\"/todos/label/:label\",\"regex\":\"^/todos/label/([^/]+)$\",\"paramNames\":[\"label\"],\"hasOptionalPrefix\":false},{\"path\":\"/todos/priority/:priority\",\"regex\":\"^/todos/priority/([^/]+)$\",\"paramNames\":[\"priority\"],\"hasOptionalPrefix\":false},{\"path\":\"/todos/project/:projectId\",\"regex\":\"^/todos/project/([^/]+)$\",\"paramNames\":[\"projectId\"],\"hasOptionalPrefix\":false},{\"path\":\"/workflows/:id\",\"regex\":\"^/workflows/([^/]+)$\",\"paramNames\":[\"id\"],\"hasOptionalPrefix\":false}],\"staticRoutes\":[{\"path\":\"/\"},{\"path\":\"/about\"},{\"path\":\"/blog\"},{\"path\":\"/blog/create\"},{\"path\":\"/brand\"},{\"path\":\"/contact\"},{\"path\":\"/discord\"},{\"path\":\"/docs\"},{\"path\":\"/faq\"},{\"path\":\"/login\"},{\"path\":\"/manifesto\"},{\"path\":\"/payment/success\"},{\"path\":\"/pricing\"},{\"path\":\"/privacy\"},{\"path\":\"/request-feature\"},{\"path\":\"/roadmap\"},{\"path\":\"/signup\"},{\"path\":\"/status\"},{\"path\":\"/terms\"},{\"path\":\"/use-cases\"},{\"path\":\"/whatsapp\"},{\"path\":\"/c\"},{\"path\":\"/calendar\"},{\"path\":\"/dashboard\"},{\"path\":\"/goals\"},{\"path\":\"/integrations\"},{\"path\":\"/mail\"},{\"path\":\"/notifications\"},{\"path\":\"/onboarding\"},{\"path\":\"/pins\"},{\"path\":\"/redirect\"},{\"path\":\"/settings\"},{\"path\":\"/subscription\"},{\"path\":\"/todos\"},{\"path\":\"/todos/completed\"},{\"path\":\"/todos/today\"},{\"path\":\"/todos/upcoming\"},{\"path\":\"/workflows\"}],\"isrRoutes\":[\"/blog/:slug\",\"/use-cases/:slug\"]}","_sentryNextJsVersion":"16.0.10"}}}]},"**/instrumentation.*":{"loaders":[{"loader":"/Users/aryan/Projects/GAIA/gaia/node_modules/.pnpm/@sentry+nextjs@10.30.0_@opentelemetry+context-async-hooks@2.2.0_@opentelemetry+api@1.9._59aa4c95a13a8754c70d758ab652cdd6/node_modules/@sentry/nextjs/build/cjs/config/loaders/valueInjectionLoader.js","options":{"values":{"_sentryNextJsVersion":"16.0.10"}}}]}},"conditions":{"#next-mdx":{"path":{}}},"resolveAlias":{"next-mdx-import-source-file":"@vercel/turbopack-next/mdx-import-source"},"debugIds":true,"root":"/Users/aryan/Projects/GAIA/gaia"},"serverExternalPackages":["amqplib","connect","dataloader","express","generic-pool","graphql","@hapi/hapi","ioredis","kafkajs","koa","lru-memoizer","mongodb","mongoose","mysql","mysql2","knex","pg","pg-pool","@node-redis/client","@redis/client","redis","tedious"],"distDirRoot":".next","_originalRewrites":{"beforeFiles":[],"afterFiles":[{"source":"/ingest/static/:path*","destination":"https://us-assets.i.posthog.com/static/:path*"},{"source":"/ingest/:path*","destination":"https://us.i.posthog.com/:path*"},{"source":"/ingest/flags","destination":"https://us.i.posthog.com/flags"}],"fallback":[]}}

process.env.__NEXT_PRIVATE_STANDALONE_CONFIG = JSON.stringify(nextConfig)

require('next')
const { startServer } = require('next/dist/server/lib/start-server')

if (
  Number.isNaN(keepAliveTimeout) ||
  !Number.isFinite(keepAliveTimeout) ||
  keepAliveTimeout < 0
) {
  keepAliveTimeout = undefined
}

startServer({
  dir,
  isDev: false,
  config: nextConfig,
  hostname,
  port: currentPort,
  allowRetry: false,
  keepAliveTimeout,
}).catch((err) => {
  console.error(err);
  process.exit(1);
});