---
title: "Commands Reference"
description: "Complete reference of all mise and Nx commands for GAIA"
icon: "terminal"
---

## Overview

GAIA uses a **mise + Nx** architecture:
- **[mise](https://mise.jdx.dev)** - Task runner and tool version manager
- **[Nx](https://nx.dev)** - Build system with caching and project graph

Run `mise tasks` to see all available commands.

---

## Quick Start

```bash
mise setup        # First-time setup (deps, docker, seed)
mise dev          # Start API + web (auto-starts Docker)
mise dev:full     # Everything including ARQ worker
```

---

## Development Commands

Run from project root.

| Command | Description |
|---------|-------------|
| `mise dev` | API + web in parallel (starts Docker) |
| `mise dev:api` | API server only (port 8000) |
| `mise dev:web` | Web app only (port 3000) |
| `mise dev:arq` | ARQ background worker |
| `mise dev:full` | API + web + ARQ worker |
| `mise dev:docs` | Documentation server |

---

## Setup Commands

| Command | Description |
|---------|-------------|
| `mise setup` | Complete setup (env check → deps → docker → seed models) |
| `mise setup:env` | Check if `.env` files exist |
| `mise setup:api` | Install API dependencies (uv sync) |
| `mise setup:web` | Install web dependencies (pnpm install) |
| `mise setup:deps` | Install all dependencies |

---

## Build Commands

| Command | Description |
|---------|-------------|
| `mise build` | Build all projects |
| `mise build:web` | Build web only |
| `mise build:docs` | Build documentation |
| `mise build:affected` | Build only changed projects |

---

## Code Quality

### Linting

| Command | Description |
|---------|-------------|
| `mise lint` | Lint all projects (parallel with caching) |
| `mise lint:fix` | Lint and auto-fix all projects |
| `mise lint:api` | Lint API only (ruff) |
| `mise lint:web` | Lint web only (biome) |
| `mise lint:affected` | Lint only changed projects |

### Formatting

| Command | Description |
|---------|-------------|
| `mise format` | Format all projects |
| `mise format:check` | Check formatting without changes |
| `mise format:api` | Format API only |
| `mise format:web` | Format web only |
| `mise format:affected` | Format only changed projects |

### Type Checking

| Command | Description |
|---------|-------------|
| `mise type-check` | Type-check all projects |
| `mise type-check:affected` | Type-check only changed projects |

---

## Testing

| Command | Description |
|---------|-------------|
| `mise test` | Run all tests |
| `mise test:api` | Run API tests (pytest) |
| `mise test:web` | Run web tests |
| `mise test:affected` | Test only changed projects |

---

## Pre-commit Hooks

GAIA uses [prek](https://github.com/ajitid/prek) for pre-commit hooks.

| Command | Description |
|---------|-------------|
| `mise pre-commit` | Run all checks on all files |
| `mise pre-commit:install` | Install git hooks |
| `mise pre-commit:run` | Run on staged files |
| `mise pre-commit:api` | Run checks on API only |
| `mise pre-commit:web` | Run checks on web only |
| `mise pre-commit:uninstall` | Remove git hooks |

---

## Clean & Maintenance

| Command | Description |
|---------|-------------|
| `mise clean` | Clean all project build artifacts |
| `mise clean:nx` | Reset Nx cache |

---

## Nx Commands

### Project Graph

| Command | Description |
|---------|-------------|
| `mise graph` | Open Nx project graph in browser |
| `mise affected:graph` | Show graph of affected projects |

### Direct Nx Usage

```bash
# Run any target on a specific project
npx nx <target> <project>

# Examples
npx nx lint api
npx nx build web
npx nx test api

# Run on multiple projects
npx nx run-many -t lint --projects=api,web

# Run on all affected projects
npx nx affected -t lint
npx nx affected -t build
npx nx affected -t test

# Show project config
npx nx show project api
npx nx show project web
npx nx show projects
```

---

## API-Specific Commands

Run from `apps/api/` or use `mise -C apps/api <task>`.

### Development

| Command | Description |
|---------|-------------|
| `mise dev` | Dev server with hot reload |
| `mise start` | Production server |
| `mise worker` | ARQ background worker |

### Code Quality

| Command | Description |
|---------|-------------|
| `mise lint` | Ruff linter |
| `mise lint:fix` | Auto-fix lint issues |
| `mise format` | Format with ruff |
| `mise mypy` | Type checking |

### Security

| Command | Description |
|---------|-------------|
| `mise bandit` | Security scanner |
| `mise pip:audit` | Audit dependencies |
| `mise secrets` | Detect secrets in code |
| `mise schema` | Test API schema |

### Database

| Command | Description |
|---------|-------------|
| `mise seed:models` | Seed AI models |
| `mise seed:workflows` | Seed workflows |

---

## Web-Specific Commands

Run from `apps/web/` or use `mise -C apps/web <task>`.

| Command | Description |
|---------|-------------|
| `mise dev` | Dev server with Turbopack (port 3000) |
| `mise build` | Production build |
| `mise start` | Production server |
| `mise type` | TypeScript type checking |
| `mise lint` | Lint with biome |
| `mise format` | Format with biome |
| `mise analyze` | Bundle size analysis |
| `mise clean` | Clean `.next` and caches |

---

## Common Workflows

### Daily Development

```bash
mise dev                      # Start everything
# or
mise dev:api                  # In one terminal
mise dev:web                  # In another terminal
```

### Before Committing

```bash
mise lint && mise format      # Check code quality
mise type-check               # Verify types
mise test:affected            # Run relevant tests
```

### CI/CD Pattern

```bash
mise lint:affected            # Only lint changed code
mise type-check:affected      # Only type-check changed code
mise build:affected           # Only build changed projects
mise test:affected            # Only test changed code
```

---

## Tips

### Run Commands Anywhere

```bash
mise -C apps/api dev          # Run API dev from root
mise -C apps/web lint         # Run web lint from root
```

### List All Tasks

```bash
mise tasks                    # Show all available tasks
mise tasks --hidden           # Include hidden tasks
```

### Need Help?

1. Run `mise doctor` to check your setup
2. Ensure Docker is running (`docker ps`)
3. Check `.env` files exist
4. See [Development Setup](/developers/development-setup)
